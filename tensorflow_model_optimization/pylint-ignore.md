# Pylint-Ignore

**WARNING: This file is programmatically generated.**

This file is parsed by [`pylint-ignore`](https://pypi.org/project/pylint-ignore/)
to determine which
[Pylint messages](https://pylint.pycqa.org/en/stable/technical_reference/features.html)
should be ignored.

- Do not edit this file manually.
- To update, use `pylint-ignore --update-ignorefile`

The recommended approach to using `pylint-ignore` is:

1. If a message refers to a valid issue, update your code rather than
   ignoring the message.
2. If a message should *always* be ignored (globally), then to do so
   via the usual `pylintrc` or `setup.cfg` files rather than this
   `pylint-ignore.md` file.
3. If a message is a false positive, add a comment of this form to your code:
   `# pylint:disable=<symbol> ; explain why this is a false positive`


# Overview

 - [E0102: function-redefined (11x)](#e0102-function-redefined)
 - [E0213: no-self-argument (1x)](#e0213-no-self-argument)
 - [E0602: undefined-variable (5x)](#e0602-undefined-variable)
 - [E1111: assignment-from-no-return (1x)](#e1111-assignment-from-no-return)
 - [E1120: no-value-for-parameter (29x)](#e1120-no-value-for-parameter)
 - [E1123: unexpected-keyword-arg (34x)](#e1123-unexpected-keyword-arg)
 - [E1129: not-context-manager (6x)](#e1129-not-context-manager)
 - [W0127: self-assigning-variable (1x)](#w0127-self-assigning-variable)
 - [W0212: protected-access (74x)](#w0212-protected-access)
 - [W0235: useless-super-delegation (3x)](#w0235-useless-super-delegation)
 - [W0311: bad-indentation (7x)](#w0311-bad-indentation)
 - [W0404: reimported (4x)](#w0404-reimported)
 - [W0611: unused-import (11x)](#w0611-unused-import)
 - [W0612: unused-variable (5x)](#w0612-unused-variable)
 - [W0613: unused-argument (28x)](#w0613-unused-argument)
 - [W0621: redefined-outer-name (2x)](#w0621-redefined-outer-name)
 - [W0632: unbalanced-tuple-unpacking (8x)](#w0632-unbalanced-tuple-unpacking)
 - [W0707: raise-missing-from (2x)](#w0707-raise-missing-from)
 - [W1114: arguments-out-of-order (1x)](#w1114-arguments-out-of-order)
 - [W1405: inconsistent-quotes (41x)](#w1405-inconsistent-quotes)
 - [W1505: deprecated-method (31x)](#w1505-deprecated-method)
 - [W1513: deprecated-decorator (2x)](#w1513-deprecated-decorator)
 - [C0103: invalid-name (8x)](#c0103-invalid-name)
 - [C0114: missing-module-docstring (14x)](#c0114-missing-module-docstring)
 - [C0115: missing-class-docstring (11x)](#c0115-missing-class-docstring)
 - [C0206: consider-using-dict-items (2x)](#c0206-consider-using-dict-items)
 - [C0301: line-too-long (137x)](#c0301-line-too-long)
 - [C0303: trailing-whitespace (9x)](#c0303-trailing-whitespace)
 - [C0304: missing-final-newline (1x)](#c0304-missing-final-newline)
 - [C0413: wrong-import-position (1x)](#c0413-wrong-import-position)
 - [C0415: import-outside-toplevel (1x)](#c0415-import-outside-toplevel)
 - [R0402: consider-using-from-import (1x)](#r0402-consider-using-from-import)
 - [R1701: consider-merging-isinstance (5x)](#r1701-consider-merging-isinstance)
 - [R1703: simplifiable-if-statement (1x)](#r1703-simplifiable-if-statement)
 - [R1707: trailing-comma-tuple (2x)](#r1707-trailing-comma-tuple)
 - [R1718: consider-using-set-comprehension (2x)](#r1718-consider-using-set-comprehension)
 - [R1721: unnecessary-comprehension (1x)](#r1721-unnecessary-comprehension)
 - [R1725: super-with-arguments (91x)](#r1725-super-with-arguments)
 - [R1732: consider-using-with (2x)](#r1732-consider-using-with)


# E0102: function-redefined

## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/default_8bit_cluster_preserve_quantize_scheme.py - Line 34 - E0102 (function-redefined)

- `message: method already defined line 26`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  23: class Default8BitClusterPreserveQuantizeScheme(
  ...
  32:     self.preserve_sparsity = preserve_sparsity
  33: 
> 34:   def __init__(self, preserve_sparsity=True):
  35:     """Same as Default8BitQuantizeScheme but preserves clustering and sparsity.
  36:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 224 - E0102 (function-redefined)

- `message: method already defined line 219`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  216: class Default8bitClusterPreserveQuantizeRegistry(
  ...
  222:     self.preserve_sparsity = preserve_sparsity
  223: 
> 224:   def __init__(self, preserve_sparsity):
  225:     super(Default8bitClusterPreserveQuantizeRegistry, self).__init__(
  226:         preserve_sparsity)
```


## File python/core/clustering/keras/cluster_test.py - Line 424 - E0102 (function-redefined)

- `message: method already defined line 303`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  422:       cluster_wrapper.ClusterWeights(keras_custom_layer, **self.params)
  423: 
> 424:   def testStripClusteringSequentialModelWithKernelRegularizer(self):
  425:     """Verifies that stripping the clustering wrappers from a sequential model produces the expected config."""
  426:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_test.py - Line 438 - E0102 (function-redefined)

- `message: method already defined line 320`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  436:       stripped_model.save(keras_file, save_traces=True)
  437: 
> 438:   def testStripClusteringSequentialModelWithBiasRegularizer(self):
  439:     """Verifies that stripping the clustering wrappers from a sequential model produces the expected config."""
  440:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_test.py - Line 452 - E0102 (function-redefined)

- `message: method already defined line 337`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  450:       stripped_model.save(keras_file, save_traces=True)
  451: 
> 452:   def testStripClusteringSequentialModelWithActivityRegularizer(self):
  453:     """Verifies that stripping the clustering wrappers from a sequential model produces the expected config."""
  454:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_test.py - Line 466 - E0102 (function-redefined)

- `message: method already defined line 354`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  464:       stripped_model.save(keras_file, save_traces=True)
  465: 
> 466:   def testStripClusteringSequentialModelWithKernelConstraint(self):
  467:     """Verifies that stripping the clustering wrappers from a sequential model produces the expected config."""
  468:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_test.py - Line 480 - E0102 (function-redefined)

- `message: method already defined line 371`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  478:       stripped_model.save(keras_file, save_traces=True)
  479: 
> 480:   def testStripClusteringSequentialModelWithBiasConstraint(self):
  481:     """Verifies that stripping the clustering wrappers from a sequential model produces the expected config."""
  482:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_test.py - Line 525 - E0102 (function-redefined)

- `message: method already defined line 508`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  523: 
  524:   @keras_parameterized.run_all_keras_modes
> 525:   def testClusterSequentialModelSelectivelyWithSparsityPreservation(self):
  526:     """
  527:     Verifies that layers within a sequential model can be clustered
```


## File python/core/clustering/keras/cluster_test.py - Line 573 - E0102 (function-redefined)

- `message: method already defined line 556`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  571: 
  572:   @keras_parameterized.run_all_keras_modes
> 573:   def testClusterFunctionalModelSelectivelyWithSparsityPreservation(self):
  574:     """
  575:     Verifies that layers within a functional model can be clustered
```


## File python/core/clustering/keras/cluster_test.py - Line 789 - E0102 (function-redefined)

- `message: method already defined line 749`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  787: 
  788:   @keras_parameterized.run_all_keras_modes
> 789:   def testClusterFunctionalModel(self):
  790:     """
  791:     Verifies that a functional model is being clustered correctly.
```


## File python/core/clustering/keras/cluster_test.py - Line 803 - E0102 (function-redefined)

- `message: method already defined line 762`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118: class ClusterTest(test.TestCase, parameterized.TestCase):
  ...
  801: 
  802:   @keras_parameterized.run_all_keras_modes
> 803:   def testClusterFunctionalModelWithLayerReused(self):
  804:     """Verifies that a layer reused within a functional model multiple times is only being clustered once."""
  805:     # The model reuses the Dense() layer. Make sure it's only clustered once.
```


# E0213: no-self-argument

## File python/core/clustering/keras/clustering_registry.py - Line 134 - E0213 (no-self-argument)

- `message: Method should have "self" as first argument`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   49: class ClusteringRegistry(object):
  ...
  132:     return False
  133: 
> 134:   def _get_rnn_cells(rnn_layer):
  135:     if isinstance(rnn_layer, tf.keras.layers.Bidirectional):
  136:       return [rnn_layer.forward_layer.cell, rnn_layer.backward_layer.cell]
```


# E0602: undefined-variable

## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 179 - E0602 (undefined-variable)

- `message: Undefined variable 'sparsity_pcqat'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  156:   def _pcqat_training(self, sparsity_flag, quant_aware_annotate_model):
  ...
  177:     # sparsity_pcqat = self._check_sparsity(stripped_pcqat_model)
  178:     
> 179:     return sparsity_pruning, sparsity_pcqat
  180:   
  181:   # @keras_parameterized.run_all_keras_modes
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 179 - E0602 (undefined-variable)

- `message: Undefined variable 'sparsity_pruning'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  156:   def _pcqat_training(self, sparsity_flag, quant_aware_annotate_model):
  ...
  177:     # sparsity_pcqat = self._check_sparsity(stripped_pcqat_model)
  178:     
> 179:     return sparsity_pruning, sparsity_pcqat
  180:   
  181:   # @keras_parameterized.run_all_keras_modes
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 345 - E0602 (undefined-variable)

- `message: Undefined variable 'cqat_acc'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  343:   print('Clustering FP32 accuracy:', clst_acc)
  344:   print_unique_weights(clustered_model)
> 345:   print('CQAT FP32 accuracy:', cqat_acc)
  346:   print_unique_weights(cqat_model_stripped)
  347:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 346 - E0602 (undefined-variable)

- `message: Undefined variable 'cqat_model_stripped'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  344:   print_unique_weights(clustered_model)
  345:   print('CQAT FP32 accuracy:', cqat_acc)
> 346:   print_unique_weights(cqat_model_stripped)
  347: 
  348:   # See consistency of accuracy from TF to TFLite
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 349 - E0602 (undefined-variable)

- `message: Undefined variable 'cqat_model_stripped'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  347: 
  348:   # See consistency of accuracy from TF to TFLite
> 349:   converter = tf.lite.TFLiteConverter.from_keras_model(cqat_model_stripped)
  350:   converter.optimizations = [tf.lite.Optimize.DEFAULT]
  351:   cqat_model_stripped_tflite = converter.convert()
```


# E1111: assignment-from-no-return

## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 324 - E1111 (assignment-from-no-return)

- `message: Assigning result of a function call, where the function has no return`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  322: 
  323:   # Apply PCQAT on selective layers
> 324:   pcqat_model = selective_pcqat_quantize_model(CLUSTER_PATH, train_images,
  325:                                                train_labels)
  326:
```


# E1120: no-value-for-parameter

## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 41 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  39:   def default_input(self):
  40:     """See base class."""
> 41:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  42: 
  43:   @property
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 41 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  39:   def default_input(self):
  40:     """See base class."""
> 41:     return tf.random.uniform([5])
  42: 
  43:   @property
```


## File python/core/internal/tensor_encoding/core/gather_encoder_test.py - Line 49 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  47:   def test_basic_encode_decode(self):
  48:     """Tests basic encoding and decoding works as expected."""
> 49:     x_fn = lambda: tf.random.uniform((12,))
  50:     encoder = gather_encoder.GatherEncoder.from_encoder(
  51:         core_encoder.EncoderComposer(
```


## File python/core/internal/tensor_encoding/utils/py_utils_test.py - Line 58 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  52:   def test_static_or_dynamic_shape(self):
  ...
  56: 
  57:     # Tensor without statically known shape.
> 58:     x = tf.squeeze(tf.where(tf.less(tf.random.uniform([10]), 0.5)))
  59:     shape = py_utils.static_or_dynamic_shape(x)
  60:     self.assertIsInstance(shape, tf.Tensor)
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 64 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  62:   def default_input(self):
  63:     """See base class."""
> 64:     return tf.random.uniform([2, 3])
  65: 
  66:   @property
```


## File python/core/internal/tensor_encoding/stages/research/clipping_test.py - Line 78 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  75:   def test_different_shapes(self, shape):
  ...
  76:     stage = clipping.ClipByNormEncodingStage(1.0)
  77:     test_data = self.run_one_to_many_encode_decode(
> 78:         stage, lambda: tf.random.uniform(shape) + 1.0)
  79:     self.common_asserts_for_test_data(test_data)
  80:     self.assertAllClose(1.0, np.linalg.norm(test_data.decoded_x))
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 96 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  92:   def test_all_below_threshold_works(self):
  ...
  94:     # this case, both of the encoded values will be empty arrays.
  95:     stage = misc.SplitBySmallValueEncodingStage(threshold=0.1)
> 96:     x = tf.random.uniform([50], minval=-0.01, maxval=0.01)
  97:     encode_params, decode_params = stage.get_params()
  98:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
```


## File python/core/sparsity/keras/pruning_impl.py - Line 102 - E1120 (no-value-for-parameter)

- `message: No value for argument 'axis' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   67:   def _update_mask(self, weights):
  ...
  100:       # Grab the (k-1)th value
  101: 
> 102:       current_threshold = tf.gather(values, k - 1)
  103:       new_mask = tf.dtypes.cast(
  104:           tf.math.greater_equal(abs_weights, current_threshold), weights.dtype)
```


## File python/core/clustering/keras/clustering_centroids.py - Line 105 - E1120 (no-value-for-parameter)

- `message: No value for argument 'DstT' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   63:   def _zero_centroid_initialization(self):
  ...
  103:     # weights.
  104:     negative_weights_ratio = negative_weights_count / non_zero_weights_count
> 105:     number_of_negative_clusters = tf.cast(
  106:         tf.math.round(number_of_non_zero_clusters * negative_weights_ratio),
  107:         dtype=tf.int64)
```


## File python/core/clustering/keras/clustering_centroids.py - Line 120 - E1120 (no-value-for-parameter)

- `message: No value for argument 'values' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   63:   def _zero_centroid_initialization(self):
  ...
  118: 
  119:     # Put all the centroids together: negative, zero, positive
> 120:     centroids = tf.concat(
  121:         [negative_cluster_centroids, zero_centroid, positive_cluster_centroids],
  122:         axis=0)
```


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - Line 124 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118:   def test_dynamic_input_shape(self):
  ...
  122:     prob = [0.5, 0.8, 0.6]
  123:     original_x = tf.random.uniform(shape, dtype=tf.float32)
> 124:     rand = [tf.random.uniform([shape[i],]) for i in range(3)]
  125:     sample_indices = [
  126:         tf.reshape(tf.where(rand[i] < prob[i]), [-1]) for i in range(3)
```


## File python/core/clustering/keras/clustering_algorithm.py - Line 157 - E1120 (no-value-for-parameter)

- `message: No value for argument 'DstT' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  146:       def grad(d_override_clustered_weight):
  ...
  155:       # (number of weights belonging to each cluster)
  156:       cluster_sizes = tf.math.bincount(
> 157:           arr=tf.cast(pulling_indices, dtype=tf.int32),
  158:           minlength=tf.size(self.cluster_centroids),
  159:           dtype=self.cluster_centroids.dtype,
```


## File python/core/internal/tensor_encoding/testing/test_utils_test.py - Line 163 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  161:   def test_one_to_many_with_multiple_input_shapes(self, *shape):
  162:     test_data = self.run_one_to_many_encode_decode(
> 163:         self.default_encoding_stage(), lambda: tf.random.uniform(shape))
  164:     self.common_asserts_for_test_data(test_data)
  165:
```


## File python/core/internal/tensor_encoding/stages/research/misc.py - Line 171 - E1120 (no-value-for-parameter)

- `message: No value for argument 'axis' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  164:   def decode(self,
  ...
  169:     """See base class."""
  170:     del decode_params, num_summands, shape  # Unused
> 171:     return tf.cumsum(encoded_tensors[self.ENCODED_VALUES_KEY])
```


## File python/core/clustering/keras/clustering_algorithm.py - Line 172 - E1120 (no-value-for-parameter)

- `message: No value for argument 'axis' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   88:   def get_clustered_weight(self, pulling_indices, original_weight):
  ...
  170:     # Gather the clustered weights based on cluster centroids and
  171:     # pulling indices.
> 172:     clustered_weight = tf.gather(cluster_centroids, pulling_indices)
  173: 
  174:     # Add an estimated gradient to the original weight
```


## File python/core/internal/tensor_encoding/utils/tf_utils.py - Line 196 - E1120 (no-value-for-parameter)

- `message: No value for argument 'DstT' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  194:     bits += logb_scalar
  195:     def add_val(bits, f, values, num):
> 196:       new_val = tf.cast(
  197:           tf.bitwise.bitwise_and(f, (2**val_53 - 1)),
  198:           dtype=tf.float64) * (1 / 2**val_53)
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 212 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  210:   def default_input(self):
  211:     """See base class."""
> 212:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  213: 
  214:   @property
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 224 - E1120 (no-value-for-parameter)

- `message: No value for argument 'DstT' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  152:   def build(self, input_shape):
  ...
  222:                 pulling_indices, original_weight))
  223:         self.sparsity_masks[weight_name] = (
> 224:             tf.cast(tf.math.not_equal(clustered_weights, 0), dtype=tf.float32))
  225:         # If the model is pruned (which we suppose), this is approximately zero
  226:         self.zero_idx[weight_name] = tf.argmin(
```


## File python/core/internal/tensor_encoding/core/gather_encoder_test.py - Line 224 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  222:   def test_state_aggregation_modes(self):
  223:     """Tests that all state updates tensors can be aggregated."""
> 224:     x_fn = lambda: tf.random.uniform((5,))
  225:     encoder = gather_encoder.GatherEncoder.from_encoder(
  226:         core_encoder.EncoderComposer(
```


## File python/core/internal/tensor_encoding/stages/stages_impl.py - Line 231 - E1120 (no-value-for-parameter)

- `message: No value for argument 'constant_values' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  226:   def _pad(self, x):
  ...
  229:     pad_dim = 2**int(np.ceil(np.log2(dim)))
  230:     if pad_dim != dim:
> 231:       x = tf.pad(x, [[0, 0], [0, pad_dim - dim]])
  232:     return x
  233:
```


## File python/core/clustering/keras/clustering_centroids.py - Line 232 - E1120 (no-value-for-parameter)

- `message: No value for argument 'DstT' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  230:   def get_cdf_value(self, given_weight):
  231:     mask = tf.less_equal(self.weights, given_weight)
> 232:     less_than = tf.cast(tf.math.count_nonzero(mask), dtype=tf.float32)
  233:     return less_than / tf.size(self.weights, out_type=tf.float32)
  234:
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 237 - E1120 (no-value-for-parameter)

- `message: No value for argument 'DstT' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  229:   def update_clustered_weights_associations(self):
  ...
  235:         # and avoid extra cluster from forming
  236:         zero_idx_mask = (
> 237:             tf.cast(
  238:                 tf.math.not_equal(
  239:                     self.cluster_centroids[weight_name],
```


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - Line 270 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  268:   def default_input(self):
  269:     """See base class."""
> 270:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  271: 
  272:   @property
```


## File python/core/internal/tensor_encoding/stages/research/kashin.py - Line 288 - E1120 (no-value-for-parameter)

- `message: No value for argument 'constant_values' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  283:   def _pad(self, x):
  ...
  286:     pad_dim = self._get_pad_dim(dim)
  287:     if pad_dim != dim:
> 288:       x = tf.pad(x, [[0, 0], [0, pad_dim - dim]])
  289:     return x
  290:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 302 - E1120 (no-value-for-parameter)

- `message: No value for argument 'off_value' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  274:   def _build_clusters(self, name, layer):
  ...
  300:       sparsity_mask = tf.math.divide_no_nan(weights, weights)
  301:       zero_idx = tf.argmin(tf.abs(centroids), axis=-1)
> 302:       centroids_mask = 1.0 - tf.one_hot(zero_idx, num_centroids)
  303:       result = {SPARSITY_MASK: sparsity_mask}
  304:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 302 - E1120 (no-value-for-parameter)

- `message: No value for argument 'on_value' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  274:   def _build_clusters(self, name, layer):
  ...
  300:       sparsity_mask = tf.math.divide_no_nan(weights, weights)
  301:       zero_idx = tf.argmin(tf.abs(centroids), axis=-1)
> 302:       centroids_mask = 1.0 - tf.one_hot(zero_idx, num_centroids)
  303:       result = {SPARSITY_MASK: sparsity_mask}
  304:
```


## File python/core/internal/tensor_encoding/testing/test_utils_test.py - Line 452 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  450:   def default_input(self):
  451:     """See base class."""
> 452:     return tf.random.uniform([5])
  453: 
  454:   @property
```


## File python/core/internal/tensor_encoding/testing/test_utils.py - Line 1412 - E1120 (no-value-for-parameter)

- `message: No value for argument 'axis' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  1394: def get_tensor_with_random_shape(expected_num_elements=10,
  ...
  1410:   """
  1411:   return tf.squeeze(
> 1412:       tf.gather(
  1413:           source_fn([2 * expected_num_elements]),
  1414:           tf.where(
```


## File python/core/internal/tensor_encoding/testing/test_utils.py - Line 1415 - E1120 (no-value-for-parameter)

- `message: No value for argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  1394: def get_tensor_with_random_shape(expected_num_elements=10,
  ...
  1413:           source_fn([2 * expected_num_elements]),
  1414:           tf.where(
> 1415:               tf.less(tf.random.uniform([2 * expected_num_elements]), 0.5))), 1)
  1416: 
  1417:
```


# E1123: unexpected-keyword-arg

## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 41 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  39:   def default_input(self):
  40:     """See base class."""
> 41:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  42: 
  43:   @property
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 41 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  39:   def default_input(self):
  40:     """See base class."""
> 41:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  42: 
  43:   @property
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 74 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  72:   def test_illegal_inputs_dynamic_power_of_two(self):
  73:     """Tests incorrect dynamic shape of the rank 2 input."""
> 74:     rand = tf.random.uniform((), maxval=3, dtype=tf.int32) + 1
  75:     # The created x has shape (3, 3) or (3, 9) or (3, 27), chosen randomly and
  76:     # thus statically not known. In all cases, it is not a power of two.
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 96 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  92:   def test_all_below_threshold_works(self):
  ...
  94:     # this case, both of the encoded values will be empty arrays.
  95:     stage = misc.SplitBySmallValueEncodingStage(threshold=0.1)
> 96:     x = tf.random.uniform([50], minval=-0.01, maxval=0.01)
  97:     encode_params, decode_params = stage.get_params()
  98:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 96 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  92:   def test_all_below_threshold_works(self):
  ...
  94:     # this case, both of the encoded values will be empty arrays.
  95:     stage = misc.SplitBySmallValueEncodingStage(threshold=0.1)
> 96:     x = tf.random.uniform([50], minval=-0.01, maxval=0.01)
  97:     encode_params, decode_params = stage.get_params()
  98:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 104 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  102:   def test_dynamic_input_shape(self):
  103:     """Tests dynamic input shape."""
> 104:     rand = tf.random.uniform((), maxval=4, dtype=tf.int32)
  105:     x = tf.random.normal((3, 2**rand))
  106:     hx_tf = tf_utils.fast_walsh_hadamard_transform(x)
```


## File python/core/clustering/keras/clustering_centroids.py - Line 105 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   63:   def _zero_centroid_initialization(self):
  ...
  103:     # weights.
  104:     negative_weights_ratio = negative_weights_count / non_zero_weights_count
> 105:     number_of_negative_clusters = tf.cast(
  106:         tf.math.round(number_of_non_zero_clusters * negative_weights_ratio),
  107:         dtype=tf.int64)
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 114 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  112:   def test_dynamic_input_shape_dim_one(self):
  113:     """Tests input shape where the second dimension is 1, dynamically known."""
> 114:     rand = tf.random.uniform((), maxval=1, dtype=tf.int32)
  115:     x = tf.random.normal((3, 2**rand))
  116:     hx_tf = tf_utils.fast_walsh_hadamard_transform(x)
```


## File python/core/clustering/keras/clustering_centroids.py - Line 120 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'axis' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   63:   def _zero_centroid_initialization(self):
  ...
  118: 
  119:     # Put all the centroids together: negative, zero, positive
> 120:     centroids = tf.concat(
  121:         [negative_cluster_centroids, zero_centroid, positive_cluster_centroids],
  122:         axis=0)
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 120 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118:   def default_input(self):
  119:     """See base class."""
> 120:     return tf.random.uniform([10], minval=0, maxval=10, dtype=tf.int64)
  121: 
  122:   @property
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 120 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  118:   def default_input(self):
  119:     """See base class."""
> 120:     return tf.random.uniform([10], minval=0, maxval=10, dtype=tf.int64)
  121: 
  122:   @property
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 136 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  134: 
  135:     def x_fn():
> 136:       return tf.random.uniform(input_dims, minval=0, maxval=10, dtype=dtype)
  137: 
  138:     test_data = self.run_one_to_many_encode_decode(
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 136 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  134: 
  135:     def x_fn():
> 136:       return tf.random.uniform(input_dims, minval=0, maxval=10, dtype=dtype)
  137: 
  138:     test_data = self.run_one_to_many_encode_decode(
```


## File python/core/clustering/keras/clustering_algorithm.py - Line 157 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  146:       def grad(d_override_clustered_weight):
  ...
  155:       # (number of weights belonging to each cluster)
  156:       cluster_sizes = tf.math.bincount(
> 157:           arr=tf.cast(pulling_indices, dtype=tf.int32),
  158:           minlength=tf.size(self.cluster_centroids),
  159:           dtype=self.cluster_centroids.dtype,
```


## File python/core/internal/tensor_encoding/stages/research/kashin.py - Line 172 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  170:   def get_params(self):
  171:     """See base class."""
> 172:     seed = tf.random.uniform((2,), maxval=tf.int64.max, dtype=tf.int64)
  173:     encode_params = {
  174:         self.ETA_PARAMS_KEY: self._eta,
```


## File python/core/internal/tensor_encoding/stages/stages_impl.py - Line 178 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  174:   def get_params(self):
  ...
  176:     params = {
  177:         self.SEED_PARAMS_KEY:
> 178:             tf.random.uniform((2,), maxval=tf.int64.max, dtype=tf.int64),
  179:     }
  180:     return params, params
```


## File python/core/clustering/keras/clustering_centroids.py - Line 179 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  175:   def _calculate_centroids_for_interval(self, weight_interval,
  ...
  177:     weight_min = tf.reduce_min(weight_interval)
  178:     weight_max = tf.reduce_max(weight_interval)
> 179:     cluster_centroids = tf.random.uniform(
  180:         shape=(number_of_clusters_for_interval,),
  181:         minval=weight_min,
```


## File python/core/clustering/keras/clustering_centroids.py - Line 179 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  175:   def _calculate_centroids_for_interval(self, weight_interval,
  ...
  177:     weight_min = tf.reduce_min(weight_interval)
  178:     weight_max = tf.reduce_max(weight_interval)
> 179:     cluster_centroids = tf.random.uniform(
  180:         shape=(number_of_clusters_for_interval,),
  181:         minval=weight_min,
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 184 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  182: 
  183:   def test_encode_unsupported_input_shape_raises(self):
> 184:     x = tf.random.uniform((3, 4), maxval=10, dtype=tf.int32)
  185:     stage = self.default_encoding_stage()
  186:     params, _ = stage.get_params()
```


## File python/core/internal/tensor_encoding/utils/tf_utils.py - Line 196 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  194:     bits += logb_scalar
  195:     def add_val(bits, f, values, num):
> 196:       new_val = tf.cast(
  197:           tf.bitwise.bitwise_and(f, (2**val_53 - 1)),
  198:           dtype=tf.float64) * (1 / 2**val_53)
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 212 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  210:   def default_input(self):
  211:     """See base class."""
> 212:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  213: 
  214:   @property
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 212 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  210:   def default_input(self):
  211:     """See base class."""
> 212:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  213: 
  214:   @property
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 224 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  152:   def build(self, input_shape):
  ...
  222:                 pulling_indices, original_weight))
  223:         self.sparsity_masks[weight_name] = (
> 224:             tf.cast(tf.math.not_equal(clustered_weights, 0), dtype=tf.float32))
  225:         # If the model is pruned (which we suppose), this is approximately zero
  226:         self.zero_idx[weight_name] = tf.argmin(
```


## File python/core/clustering/keras/clustering_centroids.py - Line 232 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  230:   def get_cdf_value(self, given_weight):
  231:     mask = tf.less_equal(self.weights, given_weight)
> 232:     less_than = tf.cast(tf.math.count_nonzero(mask), dtype=tf.float32)
  233:     return less_than / tf.size(self.weights, out_type=tf.float32)
  234:
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 237 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  229:   def update_clustered_weights_associations(self):
  ...
  235:         # and avoid extra cluster from forming
  236:         zero_idx_mask = (
> 237:             tf.cast(
  238:                 tf.math.not_equal(
  239:                     self.cluster_centroids[weight_name],
```


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - Line 270 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  268:   def default_input(self):
  269:     """See base class."""
> 270:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  271: 
  272:   @property
```


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - Line 270 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  268:   def default_input(self):
  269:     """See base class."""
> 270:     return tf.random.uniform([50], minval=-1.0, maxval=1.0)
  271: 
  272:   @property
```


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - Line 354 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'dtype' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  349:   def test_dynamic_input_shape(self):
  ...
  352:     shape = [10, 5, 7]
  353:     prob = [0.5, 0.8, 0.6]
> 354:     original_x = tf.compat.v1.random.poisson(1.5, shape, dtype=tf.float32)
  355:     rand = [tf.random.uniform([
  356:         shape[i],
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 369 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  366:   def default_input(self):
  ...
  367:     """See base class."""
  368:     return tf.cast(
> 369:         tf.random.uniform([50], minval=0, maxval=255, dtype=tf.int32),
  370:         tf.float32)
  371:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 369 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  366:   def default_input(self):
  ...
  367:     """See base class."""
  368:     return tf.cast(
> 369:         tf.random.uniform([50], minval=0, maxval=255, dtype=tf.int32),
  370:         tf.float32)
  371:
```


## File python/core/internal/tensor_encoding/stages/research/quantization.py - Line 381 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  365:   def encode(self, x, encode_params):
  ...
  379:     # Randomized rounding.
  380:     floored_x = tf.floor(x)
> 381:     random_seed = tf.random.uniform((2,), maxval=tf.int64.max, dtype=tf.int64)
  382:     num_elements = tf.reduce_prod(tf.shape(x))
  383:     rounding_floats = tf.reshape(
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 392 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  390:     def x_fn():
  391:       return tf.cast(
> 392:           tf.random.uniform(
  393:               shape, minval=0, maxval=2**bits - 1, dtype=tf.int32), tf.float32)
  394:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 392 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'minval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  390:     def x_fn():
  391:       return tf.cast(
> 392:           tf.random.uniform(
  393:               shape, minval=0, maxval=2**bits - 1, dtype=tf.int32), tf.float32)
  394:
```


## File python/core/internal/tensor_encoding/testing/test_utils.py - Line 1089 - E1123 (unexpected-keyword-arg)

- `message: Unexpected keyword argument 'maxval' in function call`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  1085:   def get_params(self):
  ...
  1087:     params = {
  1088:         self.SEED_PARAM_KEY:
> 1089:             tf.random.uniform((), maxval=tf.int32.max, dtype=tf.int32)
  1090:     }
  1091:     return params, params
```


# E1129: not-context-manager

## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 240 - E1129 (not-context-manager)

- `message: Context manager 'generator' doesn't implement __enter__ and __exit__.`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  232:   def test_decode_decorator_different_graphs(self):
  ...
  238:     stage = self._get_mock_stage()
  239:     graph_1, graph_2 = tf.Graph(), tf.Graph()
> 240:     with graph_1.as_default():
  241:       x = {'val': tf.constant(2.5)}
  242:     with graph_2.as_default():
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 242 - E1129 (not-context-manager)

- `message: Context manager 'generator' doesn't implement __enter__ and __exit__.`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  232:   def test_decode_decorator_different_graphs(self):
  ...
  240:     with graph_1.as_default():
  241:       x = {'val': tf.constant(2.5)}
> 242:     with graph_2.as_default():
  243:       params = {'param': tf.constant(10.0)}
  244:     with self.assertRaises(ValueError):
```


## File python/core/internal/tensor_encoding/testing/test_utils.py - Line 359 - E1129 (not-context-manager)

- `message: Context manager 'generator' doesn't implement __enter__ and __exit__.`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  343:     def _non_adaptive_one_to_many_encode_decode():
  ...
  357: 
  358:       client_graph = tf.Graph()
> 359:       with client_graph.as_default():
  360:         decoded_x = stage.decode(encoded_x, decode_params, shape=shape)
  361:         with self.session(graph=client_graph):
```


## File python/core/internal/tensor_encoding/testing/test_utils.py - Line 458 - E1129 (not-context-manager)

- `message: Context manager 'generator' doesn't implement __enter__ and __exit__.`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  445:     def _non_adaptive_many_to_one_encode_decode():
  ...
  456:       for x in input_values:
  457:         client_graph = tf.Graph()
> 458:         with client_graph.as_default():
  459:           encoded_x = stage.encode(x, encode_params)
  460:           with self.session(client_graph):
```


## File python/core/internal/tensor_encoding/testing/test_utils.py - Line 465 - E1129 (not-context-manager)

- `message: Context manager 'generator' doesn't implement __enter__ and __exit__.`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  445:     def _non_adaptive_many_to_one_encode_decode():
  ...
  463: 
  464:       server_test_data = []
> 465:       with server_graph.as_default():
  466:         with self.session(server_graph) as sess:
  467:           for test_data in client_test_data:
```


## File python/core/internal/tensor_encoding/testing/test_utils.py - Line 671 - E1129 (not-context-manager)

- `message: Context manager 'generator' doesn't implement __enter__ and __exit__.`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  642:   def assert_commutes_with_sum(self,
  ...
  669:       sum_encoded_x[k] = np.sum([d.encoded_x[k] for d in server_test_data],
  670:                                 axis=0)
> 671:     with tf.Graph().as_default():
  672:       with self.session() as sess:
  673:         decode_sum_encoded_x = sess.run(
```


# W0127: self-assigning-variable

## File python/core/internal/tensor_encoding/core/gather_encoder.py - Line 150 - W0127 (self-assigning-variable)

- `message: Assigning the same variable 'tensorspec' to itself`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  122:   def from_encoder(cls, encoder, tensorspec):
  ...
  148:       raise TypeError('The shape of provided tensorspec must be fully defined.')
  149: 
> 150:     tensorspec = tensorspec
  151:     commuting_structure = encoder.commuting_structure
  152:     state_update_aggregation_modes = tf.nest.flatten(
```


# W0212: protected-access

## File python/core/internal/tensor_encoding/core/simple_encoder_test.py - Line 29 - W0212 (protected-access)

- `message: Access to a protected member _TENSORS of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  27: 
  28: # Abbreviated constants used in tests.
> 29: TENSORS = simple_encoder._TENSORS
  30: 
  31: P1_VALS = test_utils.PlusOneEncodingStage.ENCODED_VALUES_KEY
```


## File python/core/keras/metrics_test.py - Line 32 - W0212 (protected-access)

- `message: Access to a protected member _SUCCESS_LABEL of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  28:   def setUp(self):
  ...
  30:     self.test_label = tf.keras.layers.Conv2D(1, 1).__class__.__name__
  31:     for label in [
> 32:         self.test_label, metrics.MonitorBoolGauge._SUCCESS_LABEL,
  33:         metrics.MonitorBoolGauge._FAILURE_LABEL
  34:     ]:
```


## File python/core/keras/metrics_test.py - Line 33 - W0212 (protected-access)

- `message: Access to a protected member _FAILURE_LABEL of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  28:   def setUp(self):
  ...
  31:     for label in [
  32:         self.test_label, metrics.MonitorBoolGauge._SUCCESS_LABEL,
> 33:         metrics.MonitorBoolGauge._FAILURE_LABEL
  34:     ]:
  35:       MetricsTest.gauge.get_cell(label).set(False)
```


## File python/core/internal/tensor_encoding/core/gather_encoder_test.py - Line 33 - W0212 (protected-access)

- `message: Access to a protected member _TENSORS of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  31: 
  32: # Abbreviated constants used in tests.
> 33: TENSORS = gather_encoder._TENSORS
  34: 
  35: P1_VALS = test_utils.PlusOneEncodingStage.ENCODED_VALUES_KEY
```


## File python/core/quantization/keras/layers/conv_batchnorm_test.py - Line 40 - W0212 (protected-access)

- `message: Access to a protected member _ConvBatchNorm2D of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  38: keras = tf.keras
  39: 
> 40: _ConvBatchNorm2D = conv_batchnorm._ConvBatchNorm2D
  41: _DepthwiseConvBatchNorm2D = conv_batchnorm._DepthwiseConvBatchNorm2D
  42: Conv2DModel = conv_batchnorm_test_utils.Conv2DModel
```


## File python/core/quantization/keras/layers/conv_batchnorm_test.py - Line 41 - W0212 (protected-access)

- `message: Access to a protected member _DepthwiseConvBatchNorm2D of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  39: 
  40: _ConvBatchNorm2D = conv_batchnorm._ConvBatchNorm2D
> 41: _DepthwiseConvBatchNorm2D = conv_batchnorm._DepthwiseConvBatchNorm2D
  42: Conv2DModel = conv_batchnorm_test_utils.Conv2DModel
  43: DepthwiseConv2DModel = conv_batchnorm_test_utils.DepthwiseConv2DModel
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 47 - W0212 (protected-access)

- `message: Access to a protected member _LAYERS_WEIGHTS_MAP of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  41: class PruneIntegrationTest(tf.test.TestCase, parameterized.TestCase,
  ...
  45:   _PRUNABLE_LAYERS = [
  46:       layer for layer, weights in
> 47:       prune_registry.PruneRegistry._LAYERS_WEIGHTS_MAP.items()
  48:       if (weights and layer != tf.keras.layers.Conv3DTranspose and
  49:           layer != tf.keras.layers.Conv2DTranspose)
```


## File python/core/keras/metrics_test.py - Line 48 - W0212 (protected-access)

- `message: Access to a protected member _SUCCESS_LABEL of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  43:     def func(x):
  ...
  46:     self.assertEqual(func(1), 2)
  47:     self.assertTrue(MetricsTest.gauge.get_cell(
> 48:         metrics.MonitorBoolGauge._SUCCESS_LABEL).value())
  49: 
  50:   def test_DecoratorFailureTest(self):
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 51 - W0212 (protected-access)

- `message: Access to a protected member _tf_style_initial_state of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  49:   def _test_initial_state_fn(self):
  50:     """Returns decorated test `initial_state` method."""
> 51:     return encoding_stage._tf_style_initial_state(
  52:         lambda _, name: {'state': tf.constant(1.0)})
  53:
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 55 - W0212 (protected-access)

- `message: Access to a protected member _LAYERS_WEIGHTS_MAP of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  41: class PruneIntegrationTest(tf.test.TestCase, parameterized.TestCase,
  ...
  53:   _NON_PRUNABLE_LAYERS = [
  54:       layer for layer, weights in
> 55:       prune_registry.PruneRegistry._LAYERS_WEIGHTS_MAP.items() if not weights
  56:   ]
  57:
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 56 - W0212 (protected-access)

- `message: Access to a protected member _tf_style_update_state of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  54:   def _test_update_state_fn(self):
  55:     """Returns decorated test `update_state` method."""
> 56:     return encoding_stage._tf_style_update_state(
  57:         lambda _, s, sut, name: {'state': s['state'] + sut['tensor']})
  58:
```


## File python/core/keras/metrics_test.py - Line 58 - W0212 (protected-access)

- `message: Access to a protected member _FAILURE_LABEL of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  52:     def func(x):
  ...
  56:       func(1)
  57:     self.assertTrue(MetricsTest.gauge.get_cell(
> 58:         metrics.MonitorBoolGauge._FAILURE_LABEL).value())
  59: 
  60:   def test_UndecoratedTest(self):
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 61 - W0212 (protected-access)

- `message: Access to a protected member _tf_style_get_params of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  59:   def _test_get_params_fn(self):
  60:     """Returns decorated test `get_params` method."""
> 61:     return encoding_stage._tf_style_get_params(
  62:         lambda _, name: ({'param': tf.constant(1.0)},) * 2)
  63:
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 66 - W0212 (protected-access)

- `message: Access to a protected member _tf_style_adaptive_get_params of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  64:   def _test_adaptive_get_params_fn(self):
  65:     """Returns decorated test `get_params` method."""
> 66:     return encoding_stage._tf_style_adaptive_get_params(
  67:         lambda _, state, name: ({'param': state['state'] * 2.0},) * 2)
  68:
```


## File python/core/quantization/keras/graph_transformations/model_transformer.py - Line 67 - W0212 (protected-access)

- `message: Access to a protected member _is_graph_network of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  64:   def _is_functional_model(self, model):
  ...
  65:     return isinstance(model, keras.Model) \
  66:            and not isinstance(model, keras.Sequential) \
> 67:            and model._is_graph_network    # pylint: disable=protected-access
  68: 
  69:   def _inbound_node_generator(self, layer):
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 71 - W0212 (protected-access)

- `message: Access to a protected member _tf_style_encode of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  69:   def _test_encode_fn(self):
  70:     """Returns decorated test `encode` method."""
> 71:     return encoding_stage._tf_style_encode(lambda _, x, p, name: x + p['param'])
  72: 
  73:   def _test_decode_fn(self):
```


## File python/core/clustering/keras/cluster.py - Line 72 - W0212 (protected-access)

- `message: Access to a protected member _is_graph_network of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  60: def _type_model(model):
  ...
  70:   is_sequential_or_functional = isinstance(
  71:       model, tf.keras.Model) and (isinstance(model, tf.keras.Sequential) or
> 72:                                   model._is_graph_network)
  73: 
  74:   is_keras_layer = isinstance(
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 76 - W0212 (protected-access)

- `message: Access to a protected member _tf_style_decode of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  73:   def _test_decode_fn(self):
  ...
  74:     """Returns decorated test `decode` method."""
  75:     reshape_fn = lambda x, p, shape: tf.reshape(x['val'] + p['param'], shape)
> 76:     return encoding_stage._tf_style_decode(
  77:         lambda _, x, p, num_summands, shape, name: reshape_fn(x, p, shape))
  78:
```


## File python/core/quantization/keras/quantize_aware_activation_test.py - Line 77 - W0212 (protected-access)

- `message: Access to a protected member _CUSTOM_ACTIVATION_ERR_MSG of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  71:     def custom_quantize(x):
  ...
  75:       QuantizeAwareActivation(custom_quantize, self.quantizer, 0, layer)
  76:     self.assertEqual(
> 77:         str(cm.exception), QuantizeAwareActivation._CUSTOM_ACTIVATION_ERR_MSG)
  78: 
  79:   def testAppliesQuantizationPostActivation(self):
```


## File python/core/clustering/keras/cluster.py - Line 78 - W0212 (protected-access)

- `message: Access to a protected member _is_graph_network of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  60: def _type_model(model):
  ...
  76: 
  77:   is_subclassed_model = isinstance(model, tf.keras.Model) and \
> 78:     not model._is_graph_network
  79: 
  80:   return (is_sequential_or_functional, is_keras_layer, is_subclassed_model)
```


## File python/core/quantization/keras/quantizers_test.py - Line 96 - W0212 (protected-access)

- `message: Access to a protected member _types_dict of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  77:   def testSerialization(self, quantizer_type):
  ...
  94:         serialized_quantizer,
  95:         module_objects=globals(),
> 96:         custom_objects=quantizers._types_dict())
  97: 
  98:     self.assertEqual(quantizer, quantizer_from_config)
```


## File python/core/quantization/keras/layers/conv_batchnorm_test.py - Line 97 - W0212 (protected-access)

- `message: Access to a protected member _activation_min_var of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   76:   def _test_equal_tf_and_tflite_outputs(self,
  ...
   95: 
   96:     if is_tflite_quantized:
>  97:       real_min = keras.backend.eval(tf_model.layers[-1]._activation_min_var)
   98:       real_max = keras.backend.eval(tf_model.layers[-1]._activation_max_var)
   99:       scale, zero_point = self._get_asymmetric_quant_params(
```


## File python/core/quantization/keras/layers/conv_batchnorm_test.py - Line 98 - W0212 (protected-access)

- `message: Access to a protected member _activation_max_var of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   76:   def _test_equal_tf_and_tflite_outputs(self,
  ...
   96:     if is_tflite_quantized:
   97:       real_min = keras.backend.eval(tf_model.layers[-1]._activation_min_var)
>  98:       real_max = keras.backend.eval(tf_model.layers[-1]._activation_max_var)
   99:       scale, zero_point = self._get_asymmetric_quant_params(
  100:           real_min, real_max, -128.0, 127.0)
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 116 - W0212 (protected-access)

- `message: Access to a protected member _LAYERS_CONFIG_MAP of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  114:   def testSupports_Prune_Default8bitQuantize_KerasLayers(self):
  115:     """PrunePreserveQuantize supported layer, must be supported by both Prune and Quantize."""
> 116:     pqat_layers_config_map = self.prune_preserve_quantize_registry._LAYERS_CONFIG_MAP
  117:     for pqat_support_layer in pqat_layers_config_map:
  118:       if (pqat_layers_config_map[pqat_support_layer].weight_attrs and
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 121 - W0212 (protected-access)

- `message: Access to a protected member _LAYERS_WEIGHTS_MAP of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  114:   def testSupports_Prune_Default8bitQuantize_KerasLayers(self):
  ...
  119:           pqat_layers_config_map[pqat_support_layer].quantize_config_attrs):
  120:         self.assertIn(
> 121:             pqat_support_layer, self.prune_registry._LAYERS_WEIGHTS_MAP,
  122:             msg="Prune doesn't support {}".format(pqat_support_layer))
  123:         self.assertIn(
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 125 - W0212 (protected-access)

- `message: Access to a protected member _layer_quantize_map of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  114:   def testSupports_Prune_Default8bitQuantize_KerasLayers(self):
  ...
  123:         self.assertIn(
  124:             pqat_support_layer,
> 125:             self.default_8bit_quantize_registry._layer_quantize_map,
  126:             msg="Default 8bit QAT doesn't support {}".format(
  127:                 pqat_support_layer))
```


## File python/core/quantization/keras/quantize.py - Line 133 - W0212 (protected-access)

- `message: Access to a protected member _is_graph_network of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   81: def quantize_model(to_quantize):
  ...
  131: 
  132:   if not isinstance(to_quantize, keras.Sequential) \
> 133:       and not to_quantize._is_graph_network:  # pylint: disable=protected-access
  134:     raise ValueError(
  135:         '`to_quantize` can only either be a tf.keras Sequential or '
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry_test.py - Line 136 - W0212 (protected-access)

- `message: Access to a protected member _LAYERS_CONFIG_MAP of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  132:   def testSupportsClusterDefault8bitQuantizeKerasLayers(self):
  ...
  134:     # by both Cluster and Quantize
  135:     cqat_layers_config_map = (
> 136:         self.cluster_preserve_quantize_registry._LAYERS_CONFIG_MAP)
  137:     for cqat_support_layer in cqat_layers_config_map:
  138:       if cqat_layers_config_map[cqat_support_layer].weight_attrs and (
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry_test.py - Line 141 - W0212 (protected-access)

- `message: Access to a protected member _LAYERS_WEIGHTS_MAP of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  132:   def testSupportsClusterDefault8bitQuantizeKerasLayers(self):
  ...
  139:           cqat_layers_config_map[cqat_support_layer].quantize_config_attrs):
  140:         self.assertIn(
> 141:             cqat_support_layer, self.cluster_registry._LAYERS_WEIGHTS_MAP,
  142:             msg='Clusteirng doesn\'t support {}'.format(cqat_support_layer))
  143:         self.assertIn(
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 142 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  140:   @parameterized.parameters([1, 2, 99, 100, 101, 12345])
  141:   def test_expected_output_shape(self, num_elements):
> 142:     sequence = tf_utils._cmwc_random_sequence(num_elements,
  143:                                               tf.constant(123, tf.int64))
  144:     self.assertAllEqual([num_elements], sequence.shape.as_list())
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry_test.py - Line 145 - W0212 (protected-access)

- `message: Access to a protected member _layer_quantize_map of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  132:   def testSupportsClusterDefault8bitQuantizeKerasLayers(self):
  ...
  143:         self.assertIn(
  144:             cqat_support_layer,
> 145:             self.default_8bit_quantize_registry._layer_quantize_map,
  146:             msg='Default 8bit QAT doesn\'t support {}'.format(
  147:                 cqat_support_layer))
```


## File python/core/sparsity/keras/pruning_impl_test.py - Line 145 - W0212 (protected-access)

- `message: Access to a protected member _update_mask of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  136:   def testConstructsMaskAndThresholdCorrectly(self):
  ...
  143: 
  144:     # input matrix is [ 1.0, 2.0, ..., 8.0, 9.0, 10.0 ]
> 145:     threshold, mask = p._update_mask(np.arange(1, 11))
  146: 
  147:     self.assertEqual(3, K.get_value(threshold))
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 151 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  149: 
  150:   def test_deterministic_given_seed(self):
> 151:     sequence_1 = tf_utils._cmwc_random_sequence(10, tf.constant(123, tf.int64))
  152:     sequence_2 = tf_utils._cmwc_random_sequence(10,
  153:                                                 tf.constant(120 + 3, tf.int64))
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 152 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  150:   def test_deterministic_given_seed(self):
  151:     sequence_1 = tf_utils._cmwc_random_sequence(10, tf.constant(123, tf.int64))
> 152:     sequence_2 = tf_utils._cmwc_random_sequence(10,
  153:                                                 tf.constant(120 + 3, tf.int64))
  154:     sequence_1, sequence_2 = self.evaluate([sequence_1, sequence_2])
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 158 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  156: 
  157:   def test_differs_given_different_seed(self):
> 158:     sequence_1 = tf_utils._cmwc_random_sequence(100, tf.constant(123, tf.int64))
  159:     sequence_2 = tf_utils._cmwc_random_sequence(100, tf.constant(
  160:         1234, tf.int64))
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 159 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  157:   def test_differs_given_different_seed(self):
  158:     sequence_1 = tf_utils._cmwc_random_sequence(100, tf.constant(123, tf.int64))
> 159:     sequence_2 = tf_utils._cmwc_random_sequence(100, tf.constant(
  160:         1234, tf.int64))
  161:     sequence_1, sequence_2 = self.evaluate([sequence_1, sequence_2])
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 165 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  163: 
  164:   def test_approximately_uniform_distribution(self):
> 165:     sequence = tf_utils._cmwc_random_sequence(100000, tf.constant(
  166:         123, tf.int64))
  167:     sequence = self.evaluate(sequence)
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 174 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  172:   def test_tensor_num_elements_raises(self):
  173:     with self.assertRaisesRegexp(TypeError, 'must be a Python integer'):
> 174:       tf_utils._cmwc_random_sequence(
  175:           tf.constant(10), tf.constant(123, tf.int64))
  176:
```


## File python/core/quantization/keras/quantize_wrapper_test.py - Line 177 - W0212 (protected-access)

- `message: Access to a protected member _types_dict of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  165:   def testSerializationQuantizeWrapper(self):
  ...
  175:         'QuantizeWrapper': QuantizeWrapper
  176:     }
> 177:     custom_objects.update(default_8bit_quantize_registry._types_dict())
  178: 
  179:     serialized_wrapper = serialize_layer(wrapper)
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 179 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  177:   def test_negative_num_elements_raises(self):
  178:     with self.assertRaisesRegexp(ValueError, 'must be positive'):
> 179:       tf_utils._cmwc_random_sequence(-10, tf.constant(123, tf.int64))
  180: 
  181:   def test_python_seed_raises(self):
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 183 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  181:   def test_python_seed_raises(self):
  182:     with self.assertRaisesRegexp(TypeError, 'tf.int64 Tensor'):
> 183:       tf_utils._cmwc_random_sequence(10, 123)
  184: 
  185:   def test_tf_int32_seed_raises(self):
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 187 - W0212 (protected-access)

- `message: Access to a protected member _cmwc_random_sequence of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  185:   def test_tf_int32_seed_raises(self):
  186:     with self.assertRaisesRegexp(TypeError, 'tf.int64 Tensor'):
> 187:       tf_utils._cmwc_random_sequence(10, tf.constant(123, tf.int32))
  188: 
  189:
```


## File python/core/quantization/keras/quantize.py - Line 192 - W0212 (protected-access)

- `message: Access to a protected member _is_graph_network of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  142: def quantize_annotate_model(to_annotate):
  ...
  190: 
  191:   if not isinstance(to_annotate, keras.Sequential) \
> 192:       and not to_annotate._is_graph_network:  # pylint: disable=protected-access
  193:     raise ValueError(
  194:         '`to_annotate` can only either be a tf.keras Sequential or '
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 199 - W0212 (protected-access)

- `message: Access to a protected member _tf_style_encode of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  195:   def test_encode_decorator_different_graphs(self):
  ...
  197:     # The test method should not actually use the input values, to ensure the
  198:     # error is not raised in a different way.
> 199:     test_encode_fn = encoding_stage._tf_style_encode(
  200:         lambda _, x, p, name: tf.constant(0.0))
  201:     stage = self._get_mock_stage()
```


## File python/core/clustering/keras/clustering_registry.py - Line 203 - W0212 (protected-access)

- `message: Access to a protected member _query_dense of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  201: 
  202:     def get_clusterable_weights_mha():  # pylint: disable=missing-docstring
> 203:       return [('_query_dense.kernel', layer._query_dense.kernel),
  204:               ('_key_dense.kernel', layer._key_dense.kernel),
  205:               ('_value_dense.kernel', layer._value_dense.kernel),
```


## File python/core/clustering/keras/clustering_registry.py - Line 204 - W0212 (protected-access)

- `message: Access to a protected member _key_dense of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  202:     def get_clusterable_weights_mha():  # pylint: disable=missing-docstring
  203:       return [('_query_dense.kernel', layer._query_dense.kernel),
> 204:               ('_key_dense.kernel', layer._key_dense.kernel),
  205:               ('_value_dense.kernel', layer._value_dense.kernel),
  206:               ('_output_dense.kernel', layer._output_dense.kernel)]
```


## File python/core/clustering/keras/clustering_registry.py - Line 205 - W0212 (protected-access)

- `message: Access to a protected member _value_dense of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  202:     def get_clusterable_weights_mha():  # pylint: disable=missing-docstring
  ...
  203:       return [('_query_dense.kernel', layer._query_dense.kernel),
  204:               ('_key_dense.kernel', layer._key_dense.kernel),
> 205:               ('_value_dense.kernel', layer._value_dense.kernel),
  206:               ('_output_dense.kernel', layer._output_dense.kernel)]
  207:
```


## File python/core/clustering/keras/clustering_registry.py - Line 206 - W0212 (protected-access)

- `message: Access to a protected member _output_dense of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  202:     def get_clusterable_weights_mha():  # pylint: disable=missing-docstring
  ...
  204:               ('_key_dense.kernel', layer._key_dense.kernel),
  205:               ('_value_dense.kernel', layer._value_dense.kernel),
> 206:               ('_output_dense.kernel', layer._output_dense.kernel)]
  207: 
  208:     if layer.__class__ in cls._SUPPORTED_RNN_LAYERS:
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 236 - W0212 (protected-access)

- `message: Access to a protected member _tf_style_decode of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  232:   def test_decode_decorator_different_graphs(self):
  ...
  234:     # The test method should not actually use the input values, to ensure the
  235:     # error is not raised in a different way.
> 236:     test_decode_fn = encoding_stage._tf_style_decode(
  237:         lambda _, x, p, shape, name: tf.constant(0.0))
  238:     stage = self._get_mock_stage()
```


## File python/core/sparsity/keras/pruning_impl_test.py - Line 268 - W0212 (protected-access)

- `message: Access to a protected member _maybe_update_block_mask of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  253:   def _sparsity2x4Masking(self, weight):
  ...
  266:     )
  267: 
> 268:     _, new_mask = p._maybe_update_block_mask(weight)
  269: 
  270:     return new_mask
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 273 - W0212 (protected-access)

- `message: Access to a protected member _a of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  251:   def test_as_adaptive_encoding_stage(self):
  ...
  271:     self.assertDictEqual({}, wrapped_stage.state_update_aggregation_modes)
  272:     # Test that __getattr__ retrieves attributes of the wrapped stage.
> 273:     self.assertIsInstance(wrapped_stage._a, tf.Variable)
  274:     self.assertIs(wrapped_stage._a, a_var)
  275:     self.assertIsInstance(wrapped_stage._b, tf.Variable)
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 274 - W0212 (protected-access)

- `message: Access to a protected member _a of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  251:   def test_as_adaptive_encoding_stage(self):
  ...
  272:     # Test that __getattr__ retrieves attributes of the wrapped stage.
  273:     self.assertIsInstance(wrapped_stage._a, tf.Variable)
> 274:     self.assertIs(wrapped_stage._a, a_var)
  275:     self.assertIsInstance(wrapped_stage._b, tf.Variable)
  276:     self.assertIs(wrapped_stage._b, b_var)
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 275 - W0212 (protected-access)

- `message: Access to a protected member _b of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  251:   def test_as_adaptive_encoding_stage(self):
  ...
  273:     self.assertIsInstance(wrapped_stage._a, tf.Variable)
  274:     self.assertIs(wrapped_stage._a, a_var)
> 275:     self.assertIsInstance(wrapped_stage._b, tf.Variable)
  276:     self.assertIs(wrapped_stage._b, b_var)
  277:
```


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - Line 276 - W0212 (protected-access)

- `message: Access to a protected member _b of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  251:   def test_as_adaptive_encoding_stage(self):
  ...
  274:     self.assertIs(wrapped_stage._a, a_var)
  275:     self.assertIsInstance(wrapped_stage._b, tf.Variable)
> 276:     self.assertIs(wrapped_stage._b, b_var)
  277: 
  278:     # Test the functionality remain unchanged.
```


## File python/core/quantization/keras/quantize_test.py - Line 293 - W0212 (protected-access)

- `message: Access to a protected member _outbound_nodes of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  285:   def _assert_model_quantized(
  ...
  291:         # Possibly wrapped for input quantization.
  292:         if isinstance(layer_quantized, QuantizeWrapper):
> 293:           self.assertLen(layer_annotated._outbound_nodes, 1)
  294:           self.assertIsInstance(
  295:               layer_annotated._outbound_nodes[0].outbound_layer,
```


## File python/core/quantization/keras/quantize_test.py - Line 295 - W0212 (protected-access)

- `message: Access to a protected member _outbound_nodes of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  285:   def _assert_model_quantized(
  ...
  293:           self.assertLen(layer_annotated._outbound_nodes, 1)
  294:           self.assertIsInstance(
> 295:               layer_annotated._outbound_nodes[0].outbound_layer,
  296:               QuantizeAnnotate)
  297:
```


## File python/core/clustering/keras/cluster.py - Line 317 - W0212 (protected-access)

- `message: Access to a protected member _self_tracked_trackables of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  289:   def _wrap_list(layers):
  ...
  315:     for i, layer in enumerate(to_cluster.submodules):
  316:       if tf_version > layers_tf_version:
> 317:         to_cluster._self_tracked_trackables[i] = _add_clustering_wrapper(layer=layer)
  318:       else:
  319:         to_cluster._layers[i] = _add_clustering_wrapper(layer=layer)
```


## File python/core/clustering/keras/cluster.py - Line 319 - W0212 (protected-access)

- `message: Access to a protected member _layers of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  289:   def _wrap_list(layers):
  ...
  317:         to_cluster._self_tracked_trackables[i] = _add_clustering_wrapper(layer=layer)
  318:       else:
> 319:         to_cluster._layers[i] = _add_clustering_wrapper(layer=layer)
  320:     return cluster_wrapper.WrapperSubclassedModel(to_cluster)
  321:   else:
```


## File python/core/quantization/keras/quantize.py - Line 321 - W0212 (protected-access)

- `message: Access to a protected member _is_graph_network of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  268: def quantize_apply(
  ...
  319: 
  320:   if not isinstance(model, keras.Sequential) \
> 321:       and not model._is_graph_network:  # pylint: disable=protected-access
  322:     raise ValueError('`model` can only either be a tf.keras Sequential or '
  323:                      'Functional model.')
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 395 - W0212 (protected-access)

- `message: Access to a protected member _sparsity_2x4 of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  379:   def testSparsityPruning2x4_NonSupportedLayers(self):
  ...
  393:     # This internal flag controls which type of sparsity is used.
  394:     # In our case it should be reset to false.
> 395:     self.assertFalse(model.layers[0].pruning_obj._sparsity_2x4)
  396: 
  397:   @parameterized.parameters(prune_registry.PruneRegistry._RNN_LAYERS -
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test.py - Line 395 - W0212 (protected-access)

- `message: Access to a protected member _weight_vars of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  393:       def on_epoch_end(self, batch, logs=None):
  394:         # Check the index of the zero centroids are not changed after training
> 395:         vars_dictionary = self.model.layers[1]._weight_vars[0][2]
  396:         self.zero_centroid_index_end = np.where(
  397:             vars_dictionary['centroids_mask'] == 0)[0]
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 397 - W0212 (protected-access)

- `message: Access to a protected member _RNN_LAYERS of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   41: class PruneIntegrationTest(tf.test.TestCase, parameterized.TestCase,
  ...
  395:     self.assertFalse(model.layers[0].pruning_obj._sparsity_2x4)
  396: 
> 397:   @parameterized.parameters(prune_registry.PruneRegistry._RNN_LAYERS -
  398:                             {keras.layers.RNN})
  399:   def testRNNLayersSingleCell_ReachesTargetSparsity(self, layer_type):
```


## File python/core/clustering/keras/cluster.py - Line 408 - W0212 (protected-access)

- `message: Access to a protected member _self_tracked_trackables of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  361:   def _strip_clustering_wrapper(layer):
  ...
  406:     layers_tf_version = distutils.version.LooseVersion(TF_VERSION_LAYERS)
  407:     if tf_version > layers_tf_version:
> 408:       for i, layer in enumerate(to_strip_model._self_tracked_trackables):
  409:         to_strip_model._self_tracked_trackables[i] = _strip_clustering_wrapper(layer=layer)
  410:     else:
```


## File python/core/clustering/keras/cluster.py - Line 409 - W0212 (protected-access)

- `message: Access to a protected member _self_tracked_trackables of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  361:   def _strip_clustering_wrapper(layer):
  ...
  407:     if tf_version > layers_tf_version:
  408:       for i, layer in enumerate(to_strip_model._self_tracked_trackables):
> 409:         to_strip_model._self_tracked_trackables[i] = _strip_clustering_wrapper(layer=layer)
  410:     else:
  411:       for i, layer in enumerate(to_strip_model._layers):
```


## File python/core/clustering/keras/cluster.py - Line 411 - W0212 (protected-access)

- `message: Access to a protected member _layers of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  361:   def _strip_clustering_wrapper(layer):
  ...
  409:         to_strip_model._self_tracked_trackables[i] = _strip_clustering_wrapper(layer=layer)
  410:     else:
> 411:       for i, layer in enumerate(to_strip_model._layers):
  412:         to_strip_model._layers[i] = _strip_clustering_wrapper(layer=layer)
  413:     return to_strip_model
```


## File python/core/clustering/keras/cluster.py - Line 412 - W0212 (protected-access)

- `message: Access to a protected member _layers of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  361:   def _strip_clustering_wrapper(layer):
  ...
  410:     else:
  411:       for i, layer in enumerate(to_strip_model._layers):
> 412:         to_strip_model._layers[i] = _strip_clustering_wrapper(layer=layer)
  413:     return to_strip_model
  414:   else:
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry_test.py - Line 467 - W0212 (protected-access)

- `message: Access to a protected member _types_dict of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  449:   def testSerialization(self):
  ...
  465:         serialized_quantize_config,
  466:         module_objects=globals(),
> 467:         custom_objects=default_8bit_quantize_registry._types_dict())
  468: 
  469:     self.assertEqual(self.quantize_config, quantize_config_from_config)
```


## File python/core/quantization/keras/quantize_test.py - Line 489 - W0212 (protected-access)

- `message: Access to a protected member _input_layers of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  477:   def testQuantizesInputLayer_OutboundLayerIsQuantized(self):
  ...
  487:     # InputLayer.
  488: 
> 489:     input_layer = quantized_model._input_layers[0]
  490:     next_layer = input_layer._outbound_nodes[0].outbound_layer
  491:     self.assertIsInstance(next_layer, quantize_layer.QuantizeLayer)
```


## File python/core/quantization/keras/quantize_test.py - Line 490 - W0212 (protected-access)

- `message: Access to a protected member _outbound_nodes of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  477:   def testQuantizesInputLayer_OutboundLayerIsQuantized(self):
  ...
  488: 
  489:     input_layer = quantized_model._input_layers[0]
> 490:     next_layer = input_layer._outbound_nodes[0].outbound_layer
  491:     self.assertIsInstance(next_layer, quantize_layer.QuantizeLayer)
  492:
```


## File python/core/quantization/keras/default_8bit/default_8bit_transforms_test.py - Line 522 - W0212 (protected-access)

- `message: Access to a protected member _input_layers of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  512:   def testAddsQuantizeLayerAfterInputLayer(self):
  ...
  520:         [default_8bit_transforms.InputLayerQuantize()]).transform()
  521: 
> 522:     for input_layer in transformed_model._input_layers:
  523:       layer_after_input = input_layer._outbound_nodes[0].outbound_layer
  524:       self.assertIsInstance(
```


## File python/core/quantization/keras/default_8bit/default_8bit_transforms_test.py - Line 523 - W0212 (protected-access)

- `message: Access to a protected member _outbound_nodes of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  512:   def testAddsQuantizeLayerAfterInputLayer(self):
  ...
  521: 
  522:     for input_layer in transformed_model._input_layers:
> 523:       layer_after_input = input_layer._outbound_nodes[0].outbound_layer
  524:       self.assertIsInstance(
  525:           layer_after_input,
```


## File python/core/internal/tensor_encoding/core/core_encoder_test.py - Line 711 - W0212 (protected-access)

- `message: Access to a protected member _wrapped_stage of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  704:   def test_add_child(self):
  ...
  709: 
  710:     self.assertIsInstance(encoder, core_encoder.Encoder)
> 711:     self.assertIsInstance(encoder.stage._wrapped_stage,
  712:                           test_utils.TimesTwoEncodingStage)
  713:     self.assertIsInstance(encoder.children[T2_VALS], core_encoder.Encoder)
```


## File python/core/internal/tensor_encoding/core/core_encoder_test.py - Line 714 - W0212 (protected-access)

- `message: Access to a protected member _wrapped_stage of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  704:   def test_add_child(self):
  ...
  712:                           test_utils.TimesTwoEncodingStage)
  713:     self.assertIsInstance(encoder.children[T2_VALS], core_encoder.Encoder)
> 714:     self.assertIsInstance(encoder.children[T2_VALS].stage._wrapped_stage,
  715:                           test_utils.PlusOneEncodingStage)
  716:     self.assertIsInstance(encoder.children[T2_VALS].children[P1_VALS],
```


## File python/core/internal/tensor_encoding/core/core_encoder_test.py - Line 719 - W0212 (protected-access)

- `message: Access to a protected member _wrapped_stage of a client class`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  704:   def test_add_child(self):
  ...
  717:                           core_encoder.Encoder)
  718:     self.assertIsInstance(
> 719:         encoder.children[T2_VALS].children[P1_VALS].stage._wrapped_stage,
  720:         test_utils.ReduceMeanEncodingStage)
  721:
```


# W0235: useless-super-delegation

## File python/core/clustering/keras/mnist_clusterable_layer_test.py - Line 34 - W0235 (useless-super-delegation)

- `message: Useless super delegation in method '__init__'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  32: class MyDenseLayer(keras.layers.Dense, clusterable_layer.ClusterableLayer):
  33: 
> 34:   def __init__(self, units, **kwargs):
  35:     super().__init__(units, **kwargs)
  36:
```


## File python/core/clustering/keras/cluster_distributed_test.py - Line 53 - W0235 (useless-super-delegation)

- `message: Useless super delegation in method 'setUp'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  50: class ClusterDistributedTest(tf.test.TestCase, parameterized.TestCase):
  ...
  51:   """Distributed tests for clustering."""
  52: 
> 53:   def setUp(self):
  54:         super(ClusterDistributedTest, self).setUp()
  55:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_distributed_test.py - Line 61 - W0235 (useless-super-delegation)

- `message: Useless super delegation in method 'setUp'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  58: class ClusterPreserveDistributedTest(tf.test.TestCase, parameterized.TestCase):
  ...
  59:   """Distributed tests for (P)CQAT."""
  60: 
> 61:   def setUp(self):
  62:     super(ClusterPreserveDistributedTest, self).setUp()
  63:
```


# W0311: bad-indentation

## File python/core/clustering/keras/cluster_distributed_test.py - Line 54 - W0311 (bad-indentation)

- `message: Bad indentation. Found 8 spaces, expected 4`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  52: 
  53:   def setUp(self):
> 54:         super(ClusterDistributedTest, self).setUp()
  55: 
  56:   @parameterized.parameters(
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 118 - W0311 (bad-indentation)

- `message: Bad indentation. Found 8 spaces, expected 6`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  115:   def _check_sparsity(model):
  ...
  116:     sparsity_list = []
  117:     for layer in model.layers:
> 118:         for weights in layer.trainable_weights:
  119:           if 'kernel' in weights.name:
  120:             np_weights = tf.keras.backend.get_value(weights)
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 119 - W0311 (bad-indentation)

- `message: Bad indentation. Found 10 spaces, expected 8`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  115:   def _check_sparsity(model):
  ...
  117:     for layer in model.layers:
  118:         for weights in layer.trainable_weights:
> 119:           if 'kernel' in weights.name:
  120:             np_weights = tf.keras.backend.get_value(weights)
  121:             sparsity = 1.0 - np.count_nonzero(np_weights) / float(
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 120 - W0311 (bad-indentation)

- `message: Bad indentation. Found 12 spaces, expected 10`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  115:   def _check_sparsity(model):
  ...
  118:         for weights in layer.trainable_weights:
  119:           if 'kernel' in weights.name:
> 120:             np_weights = tf.keras.backend.get_value(weights)
  121:             sparsity = 1.0 - np.count_nonzero(np_weights) / float(
  122:                 np_weights.size)
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 121 - W0311 (bad-indentation)

- `message: Bad indentation. Found 12 spaces, expected 10`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  115:   def _check_sparsity(model):
  ...
  119:           if 'kernel' in weights.name:
  120:             np_weights = tf.keras.backend.get_value(weights)
> 121:             sparsity = 1.0 - np.count_nonzero(np_weights) / float(
  122:                 np_weights.size)
  123:             sparsity_list.append(sparsity)
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 123 - W0311 (bad-indentation)

- `message: Bad indentation. Found 12 spaces, expected 10`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  115:   def _check_sparsity(model):
  ...
  121:             sparsity = 1.0 - np.count_nonzero(np_weights) / float(
  122:                 np_weights.size)
> 123:             sparsity_list.append(sparsity)
  124: 
  125:     return sparsity_list
```


## File python/core/clustering/keras/cluster.py - Line 368 - W0311 (bad-indentation)

- `message: Bad indentation. Found 8 spaces, expected 6`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  361:   def _strip_clustering_wrapper(layer):
  ...
  366:     elif isinstance(layer, cluster_wrapper.ClusterWeightsMHA):
  367:         # In case of MHA layer, use the overloaded implementation
> 368:         return layer.strip_clustering()
  369: 
  370:     elif isinstance(layer, cluster_wrapper.ClusterWeights):
```


# W0404: reimported

## File python/core/api/__init__.py - Line 20 - W0404 (reimported)

- `message: Reimport 'experimental' (imported line 17)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  18: from tensorflow_model_optimization.python.core.api import quantization
  19: from tensorflow_model_optimization.python.core.api import sparsity
> 20: from tensorflow_model_optimization.python.core.api import experimental
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 20 - W0404 (reimported)

- `message: Reimport 'logging' (imported line 17)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  18: import tensorflow as tf
  19: from tensorflow.python.keras import backend as K
> 20: import logging
  21: 
  22: from tensorflow_model_optimization.python.core.clustering.keras import clustering_registry
```


## File python/core/clustering/keras/cluster_test.py - Line 32 - W0404 (reimported)

- `message: Reimport 'cluster' (imported line 30)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  30: from tensorflow_model_optimization.python.core.clustering.keras.experimental import cluster as experimental_cluster
  31: 
> 32: from tensorflow_model_optimization.python.core.clustering.keras.experimental import cluster as experimental_cluster
  33: 
  34: keras = tf.keras
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 158 - W0404 (reimported)

- `message: Reimport 'tensorflow_model_optimization' (imported line 22)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  156: 
  157: def qat_on_model(model, train_images, train_labels):
> 158:   import tensorflow_model_optimization as tfmot
  159:   quantize_model = tfmot.quantization.keras.quantize_model
  160:
```


# W0611: unused-import

## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_distributed_test.py - Line 17 - W0611 (unused-import)

- `message: Unused import unittest`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  15: """Distributed (P)CQAT test."""
  16: 
> 17: import unittest
  18: import itertools
  19: from absl.testing import parameterized
```


## File python/core/clustering/keras/cluster_distributed_test.py - Line 17 - W0611 (unused-import)

- `message: Unused import unittest`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  15: """Distributed clustering test."""
  16: 
> 17: import unittest
  18: import itertools
  19: from absl.testing import parameterized
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 20 - W0611 (unused-import)

- `message: Unused backend imported from tensorflow.keras as K`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  18: import tensorflow as tf
  19: import numpy as np
> 20: from tensorflow.keras import backend as K
  21: 
  22: from tensorflow.python.keras import keras_parameterized
```


## File python/core/clustering/keras/cluster.py - Line 22 - W0611 (unused-import)

- `message: Unused ClusteringRegistry imported from tensorflow_model_optimization.python.core.clustering.keras.clustering_registry`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  20: from tensorflow_model_optimization.python.core.clustering.keras import cluster_wrapper
  21: from tensorflow_model_optimization.python.core.clustering.keras import clustering_centroids
> 22: from tensorflow_model_optimization.python.core.clustering.keras.clustering_registry import ClusteringRegistry
  23: 
  24: k = tf.keras.backend
```


## File python/core/sparsity/keras/pruning_impl.py - Line 22 - W0611 (unused-import)

- `message: Unused import logging`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  20: 
  21: import tensorflow as tf
> 22: import logging
  23: 
  24: from tensorflow_model_optimization.python.core.keras import compat as tf_compat
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 22 - W0611 (unused-import)

- `message: Unused tensorflow_model_optimization imported as tfmot`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  20: import numpy as np
  21: import tensorflow as tf
> 22: import tensorflow_model_optimization as tfmot
  23: from absl import app as absl_app
  24:
```


## File python/core/sparsity/keras/pruning_utils.py - Line 24 - W0611 (unused-import)

- `message: Unused import logging`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  22: 
  23: # import g3
> 24: import logging
  25: import numpy as np
  26: import tensorflow as tf
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_distributed_test.py - Line 26 - W0611 (unused-import)

- `message: Unused cluster_wrapper imported from tensorflow_model_optimization.python.core.clustering.keras`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  24: from tensorflow_model_optimization.python.core.clustering.keras import cluster
  25: from tensorflow_model_optimization.python.core.clustering.keras import cluster_config
> 26: from tensorflow_model_optimization.python.core.clustering.keras import cluster_wrapper
  27: from tensorflow_model_optimization.python.core.clustering.keras.experimental import cluster as experimental_cluster
  28: from tensorflow_model_optimization.python.core.quantization.keras import quantize
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 26 - W0611 (unused-import)

- `message: Unused quant_ops imported from tensorflow_model_optimization.python.core.quantization.keras`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  24: from tensorflow_model_optimization.python.core.clustering.keras import cluster
  25: from tensorflow_model_optimization.python.core.clustering.keras import cluster_config
> 26: from tensorflow_model_optimization.python.core.quantization.keras import quant_ops
  27: from tensorflow_model_optimization.python.core.quantization.keras import quantize
  28: from tensorflow_model_optimization.python.core.quantization.keras.collaborative_optimizations.cluster_preserve import (
```


## File python/core/sparsity/keras/pruning_impl_test.py - Line 32 - W0611 (unused-import)

- `message: Unused pruning_utils imported from tensorflow_model_optimization.python.core.sparsity.keras`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  30: from tensorflow_model_optimization.python.core.sparsity.keras import pruning_impl
  31: from tensorflow_model_optimization.python.core.sparsity.keras import pruning_schedule
> 32: from tensorflow_model_optimization.python.core.sparsity.keras import pruning_utils
  33: 
  34: K = tf.keras.backend
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 37 - W0611 (unused-import)

- `message: Unused cluster_utils imported from tensorflow_model_optimization.python.core.quantization.keras.collaborative_optimizations.cluster_preserve`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  35: from tensorflow_model_optimization.python.core.sparsity.keras import pruning_schedule
  36: 
> 37: from tensorflow_model_optimization.python.core.quantization.keras.collaborative_optimizations.cluster_preserve import cluster_utils
  38: 
  39: layers = tf.keras.layers
```


# W0612: unused-variable

## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 165 - W0612 (unused-variable)

- `message: Unused variable 'stripped_pcqat_model'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  156:   def _pcqat_training(self, sparsity_flag, quant_aware_annotate_model):
  ...
  163:     self.compile_and_fit(quant_aware_model)
  164: 
> 165:     stripped_pcqat_model = cluster_utils.strip_clustering_cqat(
  166:         quant_aware_model)
  167:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 220 - W0612 (unused-variable)

- `message: Unused variable 'clustered_model'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  217: def selective_pcqat_quantize_model(cluster_model_path, train_images, train_labels):
  ...
  218:   """ Selective PCQAT """
  219:   # Can apply the wrapper to some layers with QAT and others with PCQAT?
> 220:   clustered_model = tf.keras.models.load_model(cluster_model_path)
  221: 
  222:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 324 - W0612 (unused-variable)

- `message: Unused variable 'pcqat_model'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  322: 
  323:   # Apply PCQAT on selective layers
> 324:   pcqat_model = selective_pcqat_quantize_model(CLUSTER_PATH, train_images,
  325:                                                train_labels)
  326:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 355 - W0612 (unused-variable)

- `message: Unused variable 'cqat_details'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  353:   interpreter.allocate_tensors()
  354:   interpreter.get_tensor_details()
> 355:   cqat_details = interpreter.get_tensor_details()
  356:   # print(cqat_details)
  357:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 359 - W0612 (unused-variable)

- `message: Unused variable 'stripped_pcqat_model'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  350:     def _pcqat_training(sparsity_flag, quant_aware_annotate_model):
  ...
  357:       self.compile_and_fit(quant_aware_model)
  358: 
> 359:       stripped_pcqat_model = cluster_utils.strip_clustering_cqat(
  360:           quant_aware_model)
  361:
```


# W0613: unused-argument

## File python/core/sparsity/keras/pruning_callbacks.py - Line 51 - W0613 (unused-argument)

- `message: Unused argument 'logs'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  33: class UpdatePruningStep(callbacks.Callback):
  ...
  49:     self.prunable_layers = []
  50: 
> 51:   def on_train_begin(self, logs=None):
  52:     # Collect all the prunable layers in the model.
  53:     self.prunable_layers = pruning_wrapper.collect_prunable_layers(self.model)
```


## File python/core/sparsity/keras/pruning_callbacks.py - Line 64 - W0613 (unused-argument)

- `message: Unused argument 'batch'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  33: class UpdatePruningStep(callbacks.Callback):
  ...
  62:       K.batch_set_value(tuples)
  63: 
> 64:   def on_epoch_end(self, batch, logs=None):
  65:     # At the end of every epoch, remask the weights. This ensures that when
  66:     # the model is saved after completion, the weights represent mask*weights.
```


## File python/core/sparsity/keras/pruning_callbacks.py - Line 64 - W0613 (unused-argument)

- `message: Unused argument 'logs'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  33: class UpdatePruningStep(callbacks.Callback):
  ...
  62:       K.batch_set_value(tuples)
  63: 
> 64:   def on_epoch_end(self, batch, logs=None):
  65:     # At the end of every epoch, remask the weights. This ensures that when
  66:     # the model is saved after completion, the weights represent mask*weights.
```


## File python/core/sparsity/keras/pruning_callbacks.py - Line 97 - W0613 (unused-argument)

- `message: Unused argument 'prefix'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   79: class PruningSummaries(callbacks.TensorBoard):
  ...
   95:       self._file_writer = tf.summary.create_file_writer(log_dir)
   96: 
>  97:   def _log_pruning_metrics(self, logs, prefix, step):
   98:     if compat.is_v1_apis():
   99:       # Safely depend on TF 1.X private API given
```


## File python/core/quantization/keras/quantize_wrapper.py - Line 126 - W0613 (unused-argument)

- `message: Unused argument 'input_shape'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   41: class QuantizeWrapper(tf.keras.layers.Wrapper):
  ...
  124:           self.layer.compute_output_shape(input_shape), 'output', self)
  125: 
> 126:   def compute_output_shape(self, input_shape):
  127:     return self.layer.compute_output_shape(self.layer.input_shape)
  128:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 131 - W0613 (unused-argument)

- `message: Unused argument 'test_images'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  129:   return pruning_model
  130: 
> 131: def cluster_model(original_model, train_images, train_labels, test_images,
  132:                   test_labels, sparsity_flag):
  133:   """ Apply the clustering wrapper, compile and train the model """
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 132 - W0613 (unused-argument)

- `message: Unused argument 'test_labels'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  130: 
  131: def cluster_model(original_model, train_images, train_labels, test_images,
> 132:                   test_labels, sparsity_flag):
  133:   """ Apply the clustering wrapper, compile and train the model """
  134:   os.makedirs(CLUSTER_PATH, exist_ok=True)
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 156 - W0613 (unused-argument)

- `message: Unused argument 'sparsity_flag'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   36: class ClusterPreserveIntegrationTest(tf.test.TestCase, parameterized.TestCase):
  ...
  154:     return clustered_model
  155: 
> 156:   def _pcqat_training(self, sparsity_flag, quant_aware_annotate_model):
  157:     preserve_sparsity = True
  158:     quant_aware_model = quantize.quantize_apply(
```


## File python/core/quantization/keras/quantize_test.py - Line 200 - W0613 (unused-argument)

- `message: Unused argument 'mask'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  198:   def testRaisesErrorIfKerasSubclassedModel(self):
  199:     class MyModel(keras.Model):
> 200:       def call(self, inputs, training=None, mask=None):  # pylint: disable=g-wrong-blank-lines
  201:         return inputs
  202:
```


## File python/core/quantization/keras/quantize_test.py - Line 200 - W0613 (unused-argument)

- `message: Unused argument 'training'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  198:   def testRaisesErrorIfKerasSubclassedModel(self):
  199:     class MyModel(keras.Model):
> 200:       def call(self, inputs, training=None, mask=None):  # pylint: disable=g-wrong-blank-lines
  201:         return inputs
  202:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 217 - W0613 (unused-argument)

- `message: Unused argument 'train_images'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  215:   return quant_aware_model
  216: 
> 217: def selective_pcqat_quantize_model(cluster_model_path, train_images, train_labels):
  218:   """ Selective PCQAT """
  219:   # Can apply the wrapper to some layers with QAT and others with PCQAT?
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 217 - W0613 (unused-argument)

- `message: Unused argument 'train_labels'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  215:   return quant_aware_model
  216: 
> 217: def selective_pcqat_quantize_model(cluster_model_path, train_images, train_labels):
  218:   """ Selective PCQAT """
  219:   # Can apply the wrapper to some layers with QAT and others with PCQAT?
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 269 - W0613 (unused-argument)

- `message: Unused argument 'training'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   34: class ClusterWeights(Wrapper):
  ...
  267:                                clustered_weights)
  268: 
> 269:   def call(self, inputs, training=None, **kwargs):
  270:     # Update cluster associations in order to set the latest weights
  271:     self.update_clustered_weights_associations()
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 350 - W0613 (unused-argument)

- `message: Unused argument 'sparsity_flag'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  293:   def testEndToEndPruneClusterPreserveQAT(self):
  ...
  348:     )
  349: 
> 350:     def _pcqat_training(sparsity_flag, quant_aware_annotate_model):
  351:       preserve_sparsity = True
  352:       quant_aware_model = quantize.quantize_apply(
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test.py - Line 379 - W0613 (unused-argument)

- `message: Unused argument 'batch'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  377:     class CheckCentroidsAndTrainableVarsCallback(tf.keras.callbacks.Callback):
  378:       """Check the updates of trainable variables and centroid masks."""
> 379:       def on_epoch_begin(self, batch, logs=None):
  380:         # Check cluster centroids have the zero in the right position
  381:         vars_dictionary = self.model.layers[1]._weight_vars[0][2]
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test.py - Line 379 - W0613 (unused-argument)

- `message: Unused argument 'logs'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  377:     class CheckCentroidsAndTrainableVarsCallback(tf.keras.callbacks.Callback):
  378:       """Check the updates of trainable variables and centroid masks."""
> 379:       def on_epoch_begin(self, batch, logs=None):
  380:         # Check cluster centroids have the zero in the right position
  381:         vars_dictionary = self.model.layers[1]._weight_vars[0][2]
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test.py - Line 393 - W0613 (unused-argument)

- `message: Unused argument 'batch'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  377:     class CheckCentroidsAndTrainableVarsCallback(tf.keras.callbacks.Callback):
  ...
  391:         self.centroids = vars_dictionary['cluster_centroids_tf'].numpy()
  392: 
> 393:       def on_epoch_end(self, batch, logs=None):
  394:         # Check the index of the zero centroids are not changed after training
  395:         vars_dictionary = self.model.layers[1]._weight_vars[0][2]
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test.py - Line 393 - W0613 (unused-argument)

- `message: Unused argument 'logs'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  377:     class CheckCentroidsAndTrainableVarsCallback(tf.keras.callbacks.Callback):
  ...
  391:         self.centroids = vars_dictionary['cluster_centroids_tf'].numpy()
  392: 
> 393:       def on_epoch_end(self, batch, logs=None):
  394:         # Check the index of the zero centroids are not changed after training
  395:         vars_dictionary = self.model.layers[1]._weight_vars[0][2]
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 474 - W0613 (unused-argument)

- `message: Unused argument 'batch'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  472:     class CheckWeightsCallback(keras.callbacks.Callback):
  473: 
> 474:       def on_train_batch_begin(self, batch, logs=None):
  475:         # Save weights before batch
  476:         self.original_weight_kernel = (
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 474 - W0613 (unused-argument)

- `message: Unused argument 'logs'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  472:     class CheckWeightsCallback(keras.callbacks.Callback):
  473: 
> 474:       def on_train_batch_begin(self, batch, logs=None):
  475:         # Save weights before batch
  476:         self.original_weight_kernel = (
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 482 - W0613 (unused-argument)

- `message: Unused argument 'batch'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  472:     class CheckWeightsCallback(keras.callbacks.Callback):
  ...
  480:         self.bias = (self.model.layers[0].layer.bias.numpy())
  481: 
> 482:       def on_train_batch_end(self, batch, logs=None):
  483:         # Check weights are different after batch
  484:         assert not np.array_equal(
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 482 - W0613 (unused-argument)

- `message: Unused argument 'logs'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  472:     class CheckWeightsCallback(keras.callbacks.Callback):
  ...
  480:         self.bias = (self.model.layers[0].layer.bias.numpy())
  481: 
> 482:       def on_train_batch_end(self, batch, logs=None):
  483:         # Check weights are different after batch
  484:         assert not np.array_equal(
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 541 - W0613 (unused-argument)

- `message: Unused argument 'name'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  531:   class TFStyleEncodingStage(cls):
  ...
  539: 
  540:     @_tf_style_get_params
> 541:     def get_params(self, name=None):
  542:       return super(TFStyleEncodingStage, self).get_params()
  543:
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 599 - W0613 (unused-argument)

- `message: Unused argument 'name'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  589:   class TFStyleAdaptiveEncodingStage(cls):
  ...
  597: 
  598:     @_tf_style_initial_state
> 599:     def initial_state(self, name=None):
  600:       return super(TFStyleAdaptiveEncodingStage, self).initial_state()
  601:
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 603 - W0613 (unused-argument)

- `message: Unused argument 'name'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  589:   class TFStyleAdaptiveEncodingStage(cls):
  ...
  601: 
  602:     @_tf_style_update_state
> 603:     def update_state(self, state, state_update_tensors, name=None):
  604:       return super(TFStyleAdaptiveEncodingStage, self).update_state(
  605:           state, state_update_tensors)
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 608 - W0613 (unused-argument)

- `message: Unused argument 'name'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  589:   class TFStyleAdaptiveEncodingStage(cls):
  ...
  606: 
  607:     @_tf_style_adaptive_get_params
> 608:     def get_params(self, state, name=None):
  609:       return super(TFStyleAdaptiveEncodingStage, self).get_params(state)
  610:
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 612 - W0613 (unused-argument)

- `message: Unused argument 'name'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  589:   class TFStyleAdaptiveEncodingStage(cls):
  ...
  610: 
  611:     @_tf_style_encode
> 612:     def encode(self, x, encode_params, name=None):
  613:       return super(TFStyleAdaptiveEncodingStage, self).encode(x, encode_params)
  614:
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 621 - W0613 (unused-argument)

- `message: Unused argument 'name'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  616:     def decode(self,
  ...
  619:                num_summands=None,
  620:                shape=None,
> 621:                name=None):
  622:       return super(TFStyleAdaptiveEncodingStage,
  623:                    self).decode(encoded_tensors, decode_params, num_summands,
```


# W0621: redefined-outer-name

## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 140 - W0621 (redefined-outer-name)

- `message: Redefining name 'cluster_model' from outer scope (line 131)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  131: def cluster_model(original_model, train_images, train_labels, test_images,
  ...
  138:       'preserve_sparsity': sparsity_flag,
  139:   }
> 140:   cluster_model = exp_tfmot_cluster.cluster_weights(original_model, **clustering_params)
  141: 
  142:   best_model_path = './best_ckpt_clustering'
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 158 - W0621 (redefined-outer-name)

- `message: Redefining name 'tfmot' from outer scope (line 22)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  156: 
  157: def qat_on_model(model, train_images, train_labels):
> 158:   import tensorflow_model_optimization as tfmot
  159:   quantize_model = tfmot.quantization.keras.quantize_model
  160:
```


# W0632: unbalanced-tuple-unpacking

## File python/core/sparsity/keras/pruning_callbacks_test.py - Line 133 - W0632 (unbalanced-tuple-unpacking)

- `message: Possible unbalanced tuple unpacking with sequence defined at line 53: left side has 3 label(s), right side has 5 value(s)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  131:   @keras_parameterized.run_all_keras_modes
  132:   def testPruneTrainingRaisesError_PruningStepCallbackMissing(self):
> 133:     pruned_model, x_train, y_train = self._pruned_model_setup()
  134: 
  135:     # Throws an error since UpdatePruningStep is missing.
```


## File python/core/internal/tensor_encoding/stages/research/clipping_test.py - Line 159 - W0632 (unbalanced-tuple-unpacking)

- `message: Possible unbalanced tuple unpacking with sequence defined at line 285 of tensorflow_model_optimization.python.core.internal.tensor_encoding.testing.test_utils: left side has 2 label(s), right side has 3 value(s)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  151:   def test_input_types(self, x_dtype, clip_value_min_dtype,
  ...
  157:     x = tf.constant([-2.0, -1.0, 0.0, 1.0, 2.0], dtype=x_dtype)
  158:     encode_params, decode_params = stage.get_params()
> 159:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
  160:                                                 decode_params)
  161:     test_data = test_utils.TestData(x, encoded_x, decoded_x)
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 159 - W0632 (unbalanced-tuple-unpacking)

- `message: Possible unbalanced tuple unpacking with sequence defined at line 285 of tensorflow_model_optimization.python.core.internal.tensor_encoding.testing.test_utils: left side has 2 label(s), right side has 3 value(s)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  146:   def test_larger_num_iters_improves_accuracy(self):
  ...
  157:       encode_params[kashin.KashinHadamardEncodingStage.SEED_PARAMS_KEY] = seed
  158:       decode_params[kashin.KashinHadamardEncodingStage.SEED_PARAMS_KEY] = seed
> 159:       encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
  160:                                                   decode_params)
  161:       test_data = test_utils.TestData(x, encoded_x, decoded_x)
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 167 - W0632 (unbalanced-tuple-unpacking)

- `message: Possible unbalanced tuple unpacking with sequence defined at line 285 of tensorflow_model_optimization.python.core.internal.tensor_encoding.testing.test_utils: left side has 2 label(s), right side has 3 value(s)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  157:   def test_empty_input_dynamic(self):
  ...
  165:     stage = self.default_encoding_stage()
  166:     encode_params, decode_params = stage.get_params()
> 167:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
  168:                                                 decode_params)
  169:
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 197 - W0632 (unbalanced-tuple-unpacking)

- `message: Possible unbalanced tuple unpacking with sequence defined at line 285 of tensorflow_model_optimization.python.core.internal.tensor_encoding.testing.test_utils: left side has 2 label(s), right side has 3 value(s)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  192:   def test_input_types(self, x_dtype, eta_dtype, delta_dtype):
  ...
  195:     x = tf.random.normal([3, 12], dtype=x_dtype)
  196:     encode_params, decode_params = stage.get_params()
> 197:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
  198:                                                 decode_params)
  199:     test_data = test_utils.TestData(x, encoded_x, decoded_x)
```


## File python/core/internal/tensor_encoding/testing/test_utils_test.py - Line 274 - W0632 (unbalanced-tuple-unpacking)

- `message: Possible unbalanced tuple unpacking with sequence defined at line 285 of tensorflow_model_optimization.python.core.internal.tensor_encoding.testing.test_utils: left side has 2 label(s), right side has 3 value(s)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  269:   def test_encoding_differs_given_different_seed(self):
  ...
  272:     stage = self.default_encoding_stage()
  273:     encode_params, decode_params = stage.get_params()
> 274:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
  275:                                                 decode_params)
  276:     test_data_1 = self.evaluate_test_data(
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 302 - W0632 (unbalanced-tuple-unpacking)

- `message: Possible unbalanced tuple unpacking with sequence defined at line 285 of tensorflow_model_optimization.python.core.internal.tensor_encoding.testing.test_utils: left side has 2 label(s), right side has 3 value(s)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  296:   def test_input_types(self, x_dtype, min_max_dtype):
  ...
  300:     x = tf.random.normal([50], dtype=x_dtype)
  301:     encode_params, decode_params = stage.get_params()
> 302:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
  303:                                                 decode_params)
  304:     test_data = test_utils.TestData(x, encoded_x, decoded_x)
```


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - Line 366 - W0632 (unbalanced-tuple-unpacking)

- `message: Possible unbalanced tuple unpacking with sequence defined at line 285 of tensorflow_model_optimization.python.core.internal.tensor_encoding.testing.test_utils: left side has 2 label(s), right side has 3 value(s)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  349:   def test_dynamic_input_shape(self):
  ...
  364: 
  365:     encode_params, decode_params = stage.get_params()
> 366:     encoded_x, decoded_x = self.encode_decode_x(stage, x, encode_params,
  367:                                                 decode_params)
  368:     test_data = test_utils.TestData(x, encoded_x, decoded_x)
```


# W0707: raise-missing-from

## File python/core/sparsity/keras/tools/evaluate_pruning.py - Line 66 - W0707 (raise-missing-from)

- `message: Consider explicitly re-raising using the 'from' keyword`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  61: def _check_block_size(flag_value):
  ...
  64:     return True
  65:   except:
> 66:     raise flags.ValidationError('Invalid block size value "%s".' % flag_value)
  67: 
  68:
```


## File python/core/quantization/keras/quantize.py - Line 441 - W0707 (raise-missing-from)

- `message: Consider explicitly re-raising using the 'from' keyword`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  401:   def _quantize(layer):  # pylint: disable=missing-docstring
  ...
  439:     model_copy = _clone_model_with_weights(model)
  440:   except ValueError:
> 441:     raise ValueError(
  442:         'Unable to clone model. This generally happens if you used custom Keras layers or objects '
  443:         'in your model. Please specify them via `quantize_scope` for your calls to `quantize_model` '
```


# W1114: arguments-out-of-order

## File python/core/internal/tensor_encoding/utils/py_utils_test.py - Line 135 - W1114 (arguments-out-of-order)

- `message: Positional arguments appear to be out of order`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  132:   def test_merge_dicts(self, dict1, dict2, expected_dict):
  ...
  133:     """Tests that `merge_dicts` works as expected."""
  134:     self.assertDictEqual(expected_dict, py_utils.merge_dicts(dict1, dict2))
> 135:     self.assertDictEqual(expected_dict, py_utils.merge_dicts(dict2, dict1))
  136: 
  137:   # pyformat: disable
```


# W1405: inconsistent-quotes

## File python/core/sparsity/keras/tools/check_sparsity_2x4.py - Line 31 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  29: from tensorflow_model_optimization.python.core.sparsity.keras import pruning_utils
  30: 
> 31: _FILE_PATH = flags.DEFINE_string('model_tflite', None, 'TFLite model file')
  32: 
  33: # Dont check layer if its name has one of word from this list.
```


## File python/core/clustering/keras/cluster.py - Line 33 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  31: # This variable is the only way to add cluster wrapper
  32: # to layers of a subclassed model.
> 33: TF_VERSION_LAYERS = "2.4.0"
  34: 
  35: def cluster_scope():
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 40 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  38:   def __init__(self):
  39:     """Subclassed model with one dense layer."""
> 40:     super(SubclassedModel, self).__init__(name='subclass_model')
  41:     self.dense_layer = keras.layers.Dense(5, activation='relu')
  42:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 41 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  39: layers = tf.keras.layers
  40: 
> 41: CLUSTER_PATH = "./generated_mnist_models/cluster"
  42: # CLUSTER_PATH = "./average_gradient_refactoring/cluster"
  43: CQAT_PATH = "./generated_mnist_models/cqat"
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 41 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  38:   def __init__(self):
  ...
  39:     """Subclassed model with one dense layer."""
  40:     super(SubclassedModel, self).__init__(name='subclass_model')
> 41:     self.dense_layer = keras.layers.Dense(5, activation='relu')
  42: 
  43:   def call(self, inputs):
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 43 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  41: CLUSTER_PATH = "./generated_mnist_models/cluster"
  42: # CLUSTER_PATH = "./average_gradient_refactoring/cluster"
> 43: CQAT_PATH = "./generated_mnist_models/cqat"
  44: 
  45: # seed the random initialization
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 51 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  49:   def __init__(self):
  50:     """Subclassed model with two layers."""
> 51:     super(SubclassedModelTwoLayers, self).__init__(name='subclass_model')
  52:     self.dense_layer1 = keras.layers.Dense(5, activation='relu')
  53:     self.dense_layer2 = keras.layers.Dense(5, activation='softmax')
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 52 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  49:   def __init__(self):
  ...
  50:     """Subclassed model with two layers."""
  51:     super(SubclassedModelTwoLayers, self).__init__(name='subclass_model')
> 52:     self.dense_layer1 = keras.layers.Dense(5, activation='relu')
  53:     self.dense_layer2 = keras.layers.Dense(5, activation='softmax')
  54:
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 53 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  49:   def __init__(self):
  ...
  51:     super(SubclassedModelTwoLayers, self).__init__(name='subclass_model')
  52:     self.dense_layer1 = keras.layers.Dense(5, activation='relu')
> 53:     self.dense_layer2 = keras.layers.Dense(5, activation='softmax')
  54: 
  55:   def call(self, inputs):
```


## File python/core/sparsity/keras/pruning_utils.py - Line 76 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  47: def expand_tensor(tensor, block_size):
  ...
  74:   """
  75:   if tensor.get_shape().ndims != 2:
> 76:     raise ValueError('Input tensor must be rank 2')
  77: 
  78:   if len(block_size) != 2:
```


## File python/core/sparsity/keras/pruning_utils.py - Line 79 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  47: def expand_tensor(tensor, block_size):
  ...
  77: 
  78:   if len(block_size) != 2:
> 79:     raise ValueError('block_size must have 2 elements')
  80: 
  81:   block_height, block_width = block_size
```


## File python/core/sparsity/keras/tools/check_sparsity_2x4.py - Line 94 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  92: def main(argv):
  93:   if len(argv) > 1:
> 94:     raise app.UsageError('Too many command-line arguments.')
  95: 
  96:   run(_FILE_PATH.value)
```


## File python/core/sparsity/keras/tools/check_sparsity_2x4.py - Line 99 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   97: 
   98: 
>  99: if __name__ == '__main__':
  100:   flags.mark_flag_as_required(_FILE_PATH.name)
  101:
```


## File python/core/quantization/keras/quantize_models_test.py - Line 101 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   36: class QuantizeModelsTest(tf.test.TestCase, parameterized.TestCase):
  ...
   99:       interpreter.get_tensor(output_index)
  100: 
> 101:   @unittest.skip("OOM error for all these models in our CI")
  102:   @parameterized.parameters(_KERAS_APPLICATION_MODELS)
  103:   def testModelEndToEnd(self, model_type):
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_distributed_test.py - Line 118 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   99:   def testClusterSimpleDenseModel(self, distribution, clustering_params):
  ...
  116:         stripped_clustered_model, 0, 'kernel')
  117:     self.assertLessEqual(nr_of_unique_weights_clustered,
> 118:                          clustering_params["number_of_clusters"])
  119: 
  120:     with distribution.scope():
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 119 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  115:   def _check_sparsity(model):
  ...
  117:     for layer in model.layers:
  118:         for weights in layer.trainable_weights:
> 119:           if 'kernel' in weights.name:
  120:             np_weights = tf.keras.backend.get_value(weights)
  121:             sparsity = 1.0 - np.count_nonzero(np_weights) / float(
```


## File python/core/sparsity/keras/pruning_utils.py - Line 137 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  114: def factorized_pool(input_tensor,
  ...
  135:   """
  136:   if input_tensor.get_shape().ndims != 2:
> 137:     raise ValueError('factorized_pool() accepts tensors of rank 2 only')
  138: 
  139:   [height, width] = input_tensor.get_shape()
```


## File python/core/sparsity/keras/pruning_utils.py - Line 141 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  114: def factorized_pool(input_tensor,
  ...
  139:   [height, width] = input_tensor.get_shape()
  140:   if name is None:
> 141:     name = 'factorized_pool'
  142:   with tf.name_scope(name):
  143:     input_tensor_aligned = tf.reshape(input_tensor, [1, 1, height, width])
```


## File python/core/clustering/keras/cluster_test.py - Line 148 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  121:   def setUp(self):
  ...
  146:         'number_of_clusters': 8,
  147:         'cluster_centroids_init':
> 148:             "CentroidInitialization.DENSITY_BASED"
  149:     }
  150:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 238 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  228: def print_unique_weights(model):
  ...
  236:         unique_weights = len(np.unique(np_weights))
  237:         if isinstance(layer, quantize.quantize_wrapper.QuantizeWrapper):
> 238:           print(layer.layer.__class__.__name__, " (", weights.name,
  239:                 ") unique_weights: ", unique_weights)
  240:         else:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 241 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  228: def print_unique_weights(model):
  ...
  239:                 ") unique_weights: ", unique_weights)
  240:         else:
> 241:           print(layer.__class__.__name__, " (", weights.name,
  242:                 ") unique_weights: ", unique_weights)
  243:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 242 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  228: def print_unique_weights(model):
  ...
  240:         else:
  241:           print(layer.__class__.__name__, " (", weights.name,
> 242:                 ") unique_weights: ", unique_weights)
  243: 
  244:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 246 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  244: 
  245: def evaluate_model(interpreter, test_images, test_labels):
> 246:   input_index = interpreter.get_input_details()[0]["index"]
  247:   output_index = interpreter.get_output_details()[0]["index"]
  248:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 247 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  245: def evaluate_model(interpreter, test_images, test_labels):
  246:   input_index = interpreter.get_input_details()[0]["index"]
> 247:   output_index = interpreter.get_output_details()[0]["index"]
  248: 
  249:   # Run predictions on every image in the "test" dataset.
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 324 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  293:   def testEndToEndPruneClusterPreserveQAT(self):
  ...
  322:         clustered_model)
  323:     nr_of_unique_weights_before = self._get_number_of_unique_weights(
> 324:         stripped_model_before_tuning, 0, 'kernel')
  325: 
  326:     self.compile_and_fit(clustered_model)
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 331 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  293:   def testEndToEndPruneClusterPreserveQAT(self):
  ...
  329:     weights_after_tuning = stripped_model_clustered.layers[0].kernel
  330:     nr_of_unique_weights_after = self._get_number_of_unique_weights(
> 331:         stripped_model_clustered, 0, 'kernel')
  332:     
  333:     # Check after sparsity-aware clustering, despite zero centroid can drift,
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 336 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  334:   @parameterized.named_parameters(
  335:       {
> 336:           "testcase_name": "Conv2D",
  337:           "layer_type": tf.keras.layers.Conv2D,
  338:           "layer_arg": [16, (5, 7)],
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 339 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  337:           "layer_type": tf.keras.layers.Conv2D,
  338:           "layer_arg": [16, (5, 7)],
> 339:           "input_shape": (10, 10, 8),
  340:           "sparsity_ratio": 0.5,
  341:       },
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 343 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  341:       },
  342:       {
> 343:           "testcase_name": "Dense",
  344:           "layer_type": tf.keras.layers.Dense,
  345:           "layer_arg": [16],
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 344 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  342:       {
  343:           "testcase_name": "Dense",
> 344:           "layer_type": tf.keras.layers.Dense,
  345:           "layer_arg": [16],
  346:           "input_shape": [(8)],
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 345 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  343:           "testcase_name": "Dense",
  344:           "layer_type": tf.keras.layers.Dense,
> 345:           "layer_arg": [16],
  346:           "input_shape": [(8)],
  347:           "sparsity_ratio": 0.5,
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 346 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  344:           "layer_type": tf.keras.layers.Dense,
  345:           "layer_arg": [16],
> 346:           "input_shape": [(8)],
  347:           "sparsity_ratio": 0.5,
  348:       },
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 347 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  345:           "layer_arg": [16],
  346:           "input_shape": [(8)],
> 347:           "sparsity_ratio": 0.5,
  348:       },
  349:       {
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 350 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  348:       },
  349:       {
> 350:           "testcase_name": "Conv2D_not_multiple_4",
  351:           "layer_type": tf.keras.layers.Conv2D,
  352:           "layer_arg": [16, (5, 7)],
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 351 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  349:       {
  350:           "testcase_name": "Conv2D_not_multiple_4",
> 351:           "layer_type": tf.keras.layers.Conv2D,
  352:           "layer_arg": [16, (5, 7)],
  353:           "input_shape": (10, 10, 7),
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 352 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  350:           "testcase_name": "Conv2D_not_multiple_4",
  351:           "layer_type": tf.keras.layers.Conv2D,
> 352:           "layer_arg": [16, (5, 7)],
  353:           "input_shape": (10, 10, 7),
  354:           "sparsity_ratio": 0.428571,
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 353 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  351:           "layer_type": tf.keras.layers.Conv2D,
  352:           "layer_arg": [16, (5, 7)],
> 353:           "input_shape": (10, 10, 7),
  354:           "sparsity_ratio": 0.428571,
  355:       },
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 354 - W1405 (inconsistent-quotes)

- `message: Quote delimiter " is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def testPrunesSingleLayer_ReachesTargetSparsity(self, layer_type):
  ...
  352:           "layer_arg": [16, (5, 7)],
  353:           "input_shape": (10, 10, 7),
> 354:           "sparsity_ratio": 0.428571,
  355:       },
  356:   )
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 485 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  483: 
  484: 
> 485: if __name__ == '__main__':
  486:   tf.test.main()
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 708 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  700:   def testMHA(self):
  ...
  706:       optimizer=tf.keras.optimizers.Adam(learning_rate=1e-4),
  707:       loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=True),
> 708:       metrics=[tf.keras.metrics.SparseCategoricalAccuracy(name='accuracy')])
  709:     clustered_model.run_eagerly = True
  710:     clustered_model.fit(self.x_train, self.y_train, epochs=1, batch_size=100, verbose=1)
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 716 - W1405 (inconsistent-quotes)

- `message: Quote delimiter ' is inconsistent with the rest of the file`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  700:   def testMHA(self):
  ...
  714:     layerMHA = stripped_model.layers[1]
  715:     for weight in layerMHA.weights:
> 716:       if 'kernel' in weight.name:
  717:         nr_unique_weights = len(np.unique(weight.numpy()))
  718:         assert nr_unique_weights == self.nr_of_clusters
```


# W1505: deprecated-method

## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 68 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  65:   def test_illegal_inputs_static_power_of_two(self, *dims):
  ...
  66:     """Tests incorrect static shape of the rank 2 input."""
  67:     x = tf.random.normal(dims)
> 68:     with self.assertRaisesRegexp(ValueError,
  69:                                  'The dimension of x must be a power of two.'):
  70:       tf_utils.fast_walsh_hadamard_transform(x)
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 173 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  171: 
  172:   def test_tensor_num_elements_raises(self):
> 173:     with self.assertRaisesRegexp(TypeError, 'must be a Python integer'):
  174:       tf_utils._cmwc_random_sequence(
  175:           tf.constant(10), tf.constant(123, tf.int64))
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 178 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  176: 
  177:   def test_negative_num_elements_raises(self):
> 178:     with self.assertRaisesRegexp(ValueError, 'must be positive'):
  179:       tf_utils._cmwc_random_sequence(-10, tf.constant(123, tf.int64))
  180:
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 179 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  177:   def test_encode_unsupported_type_raises(self, dtype):
  178:     stage = self.default_encoding_stage()
> 179:     with self.assertRaisesRegexp(TypeError, 'Unsupported input type'):
  180:       self.run_one_to_many_encode_decode(
  181:           stage, lambda: tf.cast(self.default_input(), dtype))
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 186 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  184: 
  185:   def test_tf_int32_seed_raises(self):
> 186:     with self.assertRaisesRegexp(TypeError, 'tf.int64 Tensor'):
  187:       tf_utils._cmwc_random_sequence(10, tf.constant(123, tf.int32))
  188:
```


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - Line 187 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  183:   def test_encode_unsupported_input_shape_raises(self):
  ...
  185:     stage = self.default_encoding_stage()
  186:     params, _ = stage.get_params()
> 187:     with self.assertRaisesRegexp(ValueError, 'Number of dimensions must be 1'):
  188:       stage.encode(x, params)
  189:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 191 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  187:   def test_unknown_shape_raises(self):
  ...
  189:     stage = self.default_encoding_stage()
  190:     params, _ = stage.get_params()
> 191:     with self.assertRaisesRegexp(ValueError, 'fully known'):
  192:       stage.encode(x, params)
  193:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 199 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  195:   def test_more_than_two_ndims_raises(self, dims):
  ...
  197:     stage = self.default_encoding_stage()
  198:     params, _ = stage.get_params()
> 199:     with self.assertRaisesRegexp(ValueError, 'must be 1 or 2.'):
  200:       stage.encode(x, params)
  201:
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 207 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  203:   def test_unknown_shape_raises(self):
  ...
  205:     stage = self.default_encoding_stage()
  206:     params, _ = stage.get_params()
> 207:     with self.assertRaisesRegexp(ValueError, 'fully known'):
  208:       stage.encode(x, params)
  209:
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 215 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  211:   def test_more_than_two_ndims_raises(self, dims):
  ...
  213:     stage = self.default_encoding_stage()
  214:     params, _ = stage.get_params()
> 215:     with self.assertRaisesRegexp(ValueError, 'must be 1 or 2.'):
  216:       stage.encode(x, params)
  217:
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 220 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  218:   @parameterized.parameters([0.0, 1.0, -1.0, 2.5])
  219:   def test_eta_out_of_bounds_raises(self, eta):
> 220:     with self.assertRaisesRegexp(ValueError, 'between 0 and 1'):
  221:       kashin.KashinHadamardEncodingStage(eta=eta)
  222:
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 225 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  223:   @parameterized.parameters([0.0, -1.0])
  224:   def test_delta_small_raises(self, delta):
> 225:     with self.assertRaisesRegexp(ValueError, 'greater than 0'):
  226:       kashin.KashinHadamardEncodingStage(delta=delta)
  227:
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 230 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  228:   @parameterized.parameters([0, -1, -10])
  229:   def test_num_iters_small_raises(self, num_iters):
> 230:     with self.assertRaisesRegexp(ValueError, 'positive'):
  231:       kashin.KashinHadamardEncodingStage(num_iters=num_iters)
  232:
```


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - Line 233 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  231: 
  232:   def test_stochastic_tensor_raises(self):
> 233:     with self.assertRaisesRegexp(TypeError, 'stochastic'):
  234:       quantization.PerChannelUniformQuantizationEncodingStage(
  235:           stochastic=tf.constant(True, dtype=tf.bool))
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 234 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  232: 
  233:   def test_num_iters_tensor_raises(self):
> 234:     with self.assertRaisesRegexp(ValueError, 'num_iters'):
  235:       kashin.KashinHadamardEncodingStage(
  236:           num_iters=tf.constant(2, dtype=tf.int32))
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 235 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  233:   @parameterized.parameters([tf.int32, tf.int64])
  234:   def test_type_error_raises(self, dtype):
> 235:     with self.assertRaisesRegexp(
  236:         TypeError, 'Supported types are tf.float32 and '
  237:         'tf.float64 values'):
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 239 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  237: 
  238:   def test_last_iter_clip_tensor_raises(self):
> 239:     with self.assertRaisesRegexp(ValueError, 'last_iter_clip'):
  240:       kashin.KashinHadamardEncodingStage(
  241:           last_iter_clip=tf.constant(True, dtype=tf.bool))
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 245 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  243:   @parameterized.parameters([0, 1, 0.0, 1.0])
  244:   def test_last_iter_clip_not_bool_raises(self, last_iter_clip):
> 245:     with self.assertRaisesRegexp(ValueError, 'last_iter_clip must be a bool'):
  246:       kashin.KashinHadamardEncodingStage(last_iter_clip=last_iter_clip)
  247:
```


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - Line 249 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  247: 
  248:   def test_pad_extra_level_threshold_tensor_raises(self):
> 249:     with self.assertRaisesRegexp(ValueError, 'pad_extra_level_threshold'):
  250:       kashin.KashinHadamardEncodingStage(
  251:           pad_extra_level_threshold=tf.constant(0.8, dtype=tf.float32))
```


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - Line 294 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  292:   @parameterized.parameters([tf.int32, tf.int64])
  293:   def test_type_error_raises(self, dtype):
> 294:     with self.assertRaisesRegexp(TypeError,
  295:                                  'Supported types are tf.float32 and '
  296:                                  'tf.float64 values'):
```


## File python/core/sparsity/keras/pruning_wrapper.py - Line 296 - W1505 (deprecated-method)

- `message: Using deprecated method getargspec()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  274:     def no_op():
  ...
  294:       args = inspect.getfullargspec(self.layer.call).args
  295:     else:
> 296:       args = inspect.getargspec(self.layer.call).args
  297:     # Propagate the training bool to the underlying layer if it accepts
  298:     # training as an arg.
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 335 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  333:   @parameterized.parameters([0, 17, -1, 1.5])
  334:   def test_bits_out_of_range_raises(self, bits):
> 335:     with self.assertRaisesRegexp(ValueError, 'integer between 1 and 16'):
  336:       stages_impl.UniformQuantizationEncodingStage(bits=bits)
  337:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 340 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  338:   @parameterized.parameters([1.0, ([1.0, 2.0, 3.0],)])
  339:   def test_bad_min_max_tensor_raises(self, bad_min_max):
> 340:     with self.assertRaisesRegexp(ValueError, r'shape \(2\)'):
  341:       stages_impl.UniformQuantizationEncodingStage(
  342:           min_max=tf.constant(bad_min_max))
```


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - Line 346 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  344:   @parameterized.parameters([0, 17, -1, 1.5])
  345:   def test_bits_out_of_range_raises(self, bits):
> 346:     with self.assertRaisesRegexp(ValueError, 'integer between 1 and 16'):
  347:       quantization.PerChannelPRNGUniformQuantizationEncodingStage(bits=bits)
  348:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 346 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  344:   @parameterized.parameters([([1.0],), ([1.0, 2.0, 3.0],)])
  345:   def test_bad_min_max_python_shape_raises(self, bad_min_max):
> 346:     with self.assertRaisesRegexp(ValueError, 'list with two elements'):
  347:       stages_impl.UniformQuantizationEncodingStage(min_max=bad_min_max)
  348:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 351 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  349:   @parameterized.parameters([([1.0, 1.0],), ([2.0, 1.0],)])
  350:   def test_bad_min_max_python_values_raises(self, bad_min_max):
> 351:     with self.assertRaisesRegexp(ValueError, 'smaller than the second'):
  352:       stages_impl.UniformQuantizationEncodingStage(min_max=bad_min_max)
  353:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 355 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  353: 
  354:   def test_stochastic_tensor_raises(self):
> 355:     with self.assertRaisesRegexp(TypeError, 'stochastic'):
  356:       stages_impl.UniformQuantizationEncodingStage(
  357:           stochastic=tf.constant(True, dtype=tf.bool))
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 387 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  376:   def testEndToEndSubclassedModelAsDeepLayer(self):
  ...
  385:     ])
  386: 
> 387:     with self.assertRaisesRegexp(ValueError, "Subclassed models.*"):
  388:       self.end_to_end_testing(original_model)
  389:
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 440 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  438:   def test_encode_unsupported_type_raises(self, dtype):
  439:     stage = self.default_encoding_stage()
> 440:     with self.assertRaisesRegexp(TypeError, 'Unsupported packing type'):
  441:       self.run_one_to_many_encode_decode(
  442:           stage, lambda: tf.cast(self.default_input(), dtype))
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 445 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  443: 
  444:   def test_bad_input_bits_raises(self):
> 445:     with self.assertRaisesRegexp(TypeError, 'cannot be a TensorFlow value'):
  446:       stages_impl.BitpackingEncodingStage(tf.constant(1, dtype=tf.int32))
  447:     with self.assertRaisesRegexp(ValueError, 'between 1 and 16'):
```


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - Line 449 - W1505 (deprecated-method)

- `message: Using deprecated method assertRaisesRegexp()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  444:   def test_bad_input_bits_raises(self):
  ...
  447:     with self.assertRaisesRegexp(ValueError, 'between 1 and 16'):
  448:       stages_impl.BitpackingEncodingStage(0)
> 449:     with self.assertRaisesRegexp(ValueError, 'between 1 and 16'):
  450:       stages_impl.BitpackingEncodingStage(17)
  451:
```


# W1513: deprecated-decorator

## File python/core/internal/tensor_encoding/testing/test_utils.py - Line 88 - W1513 (deprecated-decorator)

- `message: Using deprecated decorator abc.abstractproperty()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  68: class BaseEncodingStageTest(tf.test.TestCase, parameterized.TestCase):
  ...
  86:   # Abstract methods
  87:   # -----------------
> 88:   @abc.abstractproperty
  89:   def is_lossless(self):
  90:     """Returns True if the encoding stage is lossless.
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 354 - W1513 (deprecated-decorator)

- `message: Using deprecated decorator abc.abstractproperty()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  274: class AdaptiveEncodingStageInterface(object):
  ...
  352:     """
  353: 
> 354:   @abc.abstractproperty
  355:   def state_update_aggregation_modes(self):
  356:     """Aggregation mode of state update tensors.
```


# C0103: invalid-name

## File python/core/sparsity/keras/pruning_callbacks_test.py - Line 38 - C0103 (invalid-name)

- `message: Method name "_assertLogsExist" doesn't conform to '(?x)^(?:(?P<exempt>_[a-z0-9_]+__|runTest|setUp|tearDown|setUpTestCase|tearDownTestCase|setupSelf|tearDownClass|setUpClass|(test|assert)_*[A-Z0-9][a-zA-Z0-9_]*|next)|(?P<camel_case>_{0,2}[A-Z][a-zA-Z0-9_]*)|(?P<snake_case>_{0,2}[a-z][a-z0-9_]*))$' pattern`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  34: class PruneCallbacksTest(tf.test.TestCase, parameterized.TestCase):
  ...
  36:   _BATCH_SIZE = 20
  37: 
> 38:   def _assertLogsExist(self, log_dir):
  39:     self.assertNotEmpty(os.listdir(log_dir))
  40:
```


## File python/core/quantization/keras/quantize_test.py - Line 82 - C0103 (invalid-name)

- `message: Method name "_assertWrappedLayer" doesn't conform to '(?x)^(?:(?P<exempt>_[a-z0-9_]+__|runTest|setUp|tearDown|setUpTestCase|tearDownTestCase|setupSelf|tearDownClass|setUpClass|(test|assert)_*[A-Z0-9][a-zA-Z0-9_]*|next)|(?P<camel_case>_{0,2}[A-Z][a-zA-Z0-9_]*)|(?P<snake_case>_{0,2}[a-z][a-z0-9_]*))$' pattern`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  80: class QuantizeAnnotateTest(tf.test.TestCase):
  81: 
> 82:   def _assertWrappedLayer(self, layer, quantize_config=None):
  83:     self.assertIsInstance(layer, quantize_annotate_mod.QuantizeAnnotate)
  84:     self.assertEqual(quantize_config, layer.quantize_config)
```


## File python/core/quantization/keras/quantize_test.py - Line 86 - C0103 (invalid-name)

- `message: Method name "_assertWrappedModel" doesn't conform to '(?x)^(?:(?P<exempt>_[a-z0-9_]+__|runTest|setUp|tearDown|setUpTestCase|tearDownTestCase|setupSelf|tearDownClass|setUpClass|(test|assert)_*[A-Z0-9][a-zA-Z0-9_]*|next)|(?P<camel_case>_{0,2}[A-Z][a-zA-Z0-9_]*)|(?P<snake_case>_{0,2}[a-z][a-z0-9_]*))$' pattern`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  80: class QuantizeAnnotateTest(tf.test.TestCase):
  ...
  84:     self.assertEqual(quantize_config, layer.quantize_config)
  85: 
> 86:   def _assertWrappedModel(self, model):
  87:     for layer in model.layers:
  88:       self._assertWrappedLayer(layer)
```


## File python/core/sparsity/keras/pruning_impl_test.py - Line 152 - C0103 (invalid-name)

- `message: Method name "_blockMasking" doesn't conform to '(?x)^(?:(?P<exempt>_[a-z0-9_]+__|runTest|setUp|tearDown|setUpTestCase|tearDownTestCase|setupSelf|tearDownClass|setUpClass|(test|assert)_*[A-Z0-9][a-zA-Z0-9_]*|next)|(?P<camel_case>_{0,2}[A-Z][a-zA-Z0-9_]*)|(?P<snake_case>_{0,2}[a-z][a-z0-9_]*))$' pattern`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   47: class PruningTest(test.TestCase, parameterized.TestCase):
  ...
  150:         np.concatenate((np.zeros(2), np.ones(8))), K.get_value(mask))
  151: 
> 152:   def _blockMasking(self, block_size, block_pooling_type, weight,
  153:                     expected_mask):
  154:     mask = tf.Variable(
```


## File python/core/sparsity/keras/pruning_impl_test.py - Line 253 - C0103 (invalid-name)

- `message: Method name "_sparsity2x4Masking" doesn't conform to '(?x)^(?:(?P<exempt>_[a-z0-9_]+__|runTest|setUp|tearDown|setUpTestCase|tearDownTestCase|setupSelf|tearDownClass|setUpClass|(test|assert)_*[A-Z0-9][a-zA-Z0-9_]*|next)|(?P<camel_case>_{0,2}[A-Z][a-zA-Z0-9_]*)|(?P<snake_case>_{0,2}[a-z][a-z0-9_]*))$' pattern`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   47: class PruningTest(test.TestCase, parameterized.TestCase):
  ...
  251:     self.assertAllEqual(expected_non_zero_count, non_zero_count)
  252: 
> 253:   def _sparsity2x4Masking(self, weight):
  254:     mask = tf.Variable(tf.ones(weight.get_shape()), name="mask")
  255:     threshold = tf.Variable(1, name="threshold")
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 523 - C0103 (invalid-name)

- `message: Method name "_clusterTrainStrip" doesn't conform to '(?x)^(?:(?P<exempt>_[a-z0-9_]+__|runTest|setUp|tearDown|setUpTestCase|tearDownTestCase|setupSelf|tearDownClass|setUpClass|(test|assert)_*[A-Z0-9][a-zA-Z0-9_]*|next)|(?P<camel_case>_{0,2}[A-Z][a-zA-Z0-9_]*)|(?P<snake_case>_{0,2}[a-z][a-z0-9_]*))$' pattern`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  499: class ClusterRNNIntegrationTest(tf.test.TestCase, parameterized.TestCase):
  ...
  521:     )
  522: 
> 523:   def _clusterTrainStrip(self, model):
  524:     clustered_model = cluster.cluster_weights(
  525:       model,
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 533 - C0103 (invalid-name)

- `message: Method name "_assertNbUniqueWeights" doesn't conform to '(?x)^(?:(?P<exempt>_[a-z0-9_]+__|runTest|setUp|tearDown|setUpTestCase|tearDownTestCase|setupSelf|tearDownClass|setUpClass|(test|assert)_*[A-Z0-9][a-zA-Z0-9_]*|next)|(?P<camel_case>_{0,2}[A-Z][a-zA-Z0-9_]*)|(?P<snake_case>_{0,2}[a-z][a-z0-9_]*))$' pattern`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  499: class ClusterRNNIntegrationTest(tf.test.TestCase, parameterized.TestCase):
  ...
  531:     return stripped_model
  532: 
> 533:   def _assertNbUniqueWeights(self, weight, expected_unique_weights):
  534:     nr_unique_weights = len(np.unique(weight.numpy().flatten()))
  535:     assert nr_unique_weights == expected_unique_weights
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 714 - C0103 (invalid-name)

- `message: Variable name "layerMHA" doesn't conform to '^[a-z][a-z0-9_]*$' pattern`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  700:   def testMHA(self):
  ...
  712:     stripped_model = cluster.strip_clustering(clustered_model)
  713: 
> 714:     layerMHA = stripped_model.layers[1]
  715:     for weight in layerMHA.weights:
  716:       if 'kernel' in weight.name:
```


# C0114: missing-module-docstring

## File python/core/internal/tensor_encoding/utils/py_utils_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/utils/tf_utils_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/core/simple_encoder_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/stages/research/misc_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/encoders/common_encoders_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/core/encoding_stage_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/stages/research/quantization_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/testing/test_utils_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/stages/research/clipping_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/core/gather_encoder_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/core/core_encoder_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/stages/stages_impl_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


## File python/core/internal/tensor_encoding/stages/research/kashin_test.py - C0114 (missing-module-docstring)

- `message: Missing module docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`


# C0115: missing-class-docstring

## File python/core/quantization/keras/quantize_annotate_test.py - Line 34 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  32: class QuantizeAnnotateTest(tf.test.TestCase):
  33: 
> 34:   class TestQuantizeConfig(quantize_config_mod.QuantizeConfig):
  35: 
  36:     def get_weights_and_quantizers(self, layer):
```


## File python/core/sparsity/keras/prune_registry_test.py - Line 35 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  27: class PruneRegistryTest(tf.test.TestCase):
  ...
  33:     pass
  34: 
> 35:   class MinimalRNNCell(keras.layers.Layer):
  36: 
  37:     def __init__(self, units, **kwargs):
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry_test.py - Line 39 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  37: 
  38: 
> 39: class _TestHelper(object):
  40: 
  41:   def _convert_list(self, list_of_tuples):
```


## File python/core/quantization/keras/quantize_test.py - Line 43 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  41: 
  42: 
> 43: class _TestQuantizeConfig(quantize_config_mod.QuantizeConfig):
  44: 
  45:   def get_weights_and_quantizers(self, layer):
```


## File python/core/quantization/keras/layers/conv_batchnorm_test.py - Line 46 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  44: 
  45: 
> 46: class FoldedBatchNormTestBase(tf.test.TestCase):
  47: 
  48:   def _get_asymmetric_quant_params(self, real_min, real_max, quant_min,
```


## File python/core/quantization/keras/quantize_aware_activation_test.py - Line 48 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  41: class QuantizeAwareQuantizationTest(tf.test.TestCase, parameterized.TestCase):
  ...
  46:         num_bits=8, per_axis=False, symmetric=True, narrow_range=False)
  47: 
> 48:   class TestLayer(keras.layers.Layer):
  49: 
  50:     def call(self, inputs, training=None):
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 53 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  32: class PrunePreserveQuantizeRegistryTest(tf.test.TestCase,
  ...
  51:                       trainable=True)
  52: 
> 53:   class CustomQuantizeConfig(QuantizeConfig):
  54:     # simple custom QuantizeConfig
  55:     def get_weights_and_quantizers(self, layer):
```


## File python/core/clustering/keras/cluster_test.py - Line 62 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  60: 
  61: 
> 62: class KerasCustomLayer(keras.layers.Layer):
  63: 
  64:   def __init__(self, units=32):
```


## File python/core/clustering/keras/mnist_clusterable_layer_test.py - Line 64 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  62: 
  63: 
> 64: class MyClusterableLayer(keras.layers.Layer,
  65:                          clusterable_layer.ClusterableLayer):
  66:
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 472 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  456:   def testWeightsAreLearningDuringClustering(self):
  ...
  470:     )
  471: 
> 472:     class CheckWeightsCallback(keras.callbacks.Callback):
  473: 
  474:       def on_train_batch_begin(self, batch, logs=None):
```


## File python/core/quantization/keras/graph_transformations/model_transformer_test.py - Line 530 - C0115 (missing-class-docstring)

- `message: Missing class docstring`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   37: class ModelTransformerTest(tf.test.TestCase, parameterized.TestCase):
  ...
  528:   # 1. Handles layer being part of multiple models.
  529: 
> 530:   class VerifyMatch(Transform):
  531: 
  532:     def __init__(self, pattern):
```


# C0206: consider-using-dict-items

## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 117 - C0206 (consider-using-dict-items)

- `message: Consider iterating with .items()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  114:   def testSupports_Prune_Default8bitQuantize_KerasLayers(self):
  ...
  115:     """PrunePreserveQuantize supported layer, must be supported by both Prune and Quantize."""
  116:     pqat_layers_config_map = self.prune_preserve_quantize_registry._LAYERS_CONFIG_MAP
> 117:     for pqat_support_layer in pqat_layers_config_map:
  118:       if (pqat_layers_config_map[pqat_support_layer].weight_attrs and
  119:           pqat_layers_config_map[pqat_support_layer].quantize_config_attrs):
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry_test.py - Line 137 - C0206 (consider-using-dict-items)

- `message: Consider iterating with .items()`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  132:   def testSupportsClusterDefault8bitQuantizeKerasLayers(self):
  ...
  135:     cqat_layers_config_map = (
  136:         self.cluster_preserve_quantize_registry._LAYERS_CONFIG_MAP)
> 137:     for cqat_support_layer in cqat_layers_config_map:
  138:       if cqat_layers_config_map[cqat_support_layer].weight_attrs and (
  139:           cqat_layers_config_map[cqat_support_layer].quantize_config_attrs):
```


# C0301: line-too-long

## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/default_8bit_prune_preserve_quantize_scheme.py - Line 15 - C0301 (line-too-long)

- `message: Line too long (106/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  13: # limitations under the License.
  14: # ==============================================================================
> 15: """Default 8 bit Prune Preserve Quantization scheme which specifies how quantization should be applied."""
  16: 
  17: from tensorflow_model_optimization.python.core.quantization.keras.collaborative_optimizations.prune_preserve import (
```


## File python/core/api/clustering/keras/experimental/__init__.py - Line 15 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  13: # limitations under the License.
  14: # ==============================================================================
> 15: """Module containing experimental clustering code built on Keras abstractions."""
  16: from tensorflow_model_optimization.python.core.clustering.keras.experimental.cluster import cluster_weights
```


## File python/examples/quantization_with_sparsity/keras/mnist_cnn.py - Line 16 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  14: # ==============================================================================
  15: # pylint: disable=missing-docstring
> 16: """Prune preserve Quant-Aware Training(pqat) with simple convnet on the MNIST dataset.
  17: 
  18: As a experimental feature, only `quantize_apply` been enabled with boolean flag
```


## File python/core/quantization/keras/utils.py - Line 16 - C0301 (line-too-long)

- `message: Line too long (93/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  14: # ==============================================================================
  15: # pylint: disable=protected-access
> 16: """Quantization specific utilities for generating, saving, testing, and evaluating models."""
  17: 
  18: import tempfile
```


## File python/core/clustering/keras/experimental/cluster.py - Line 22 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  20: def cluster_weights(to_cluster, number_of_clusters, cluster_centroids_init,
  21:                     preserve_sparsity, **kwargs):
> 22:   """Modify a keras layer or model to be clustered during training (experimental).
  23: 
  24:   This function wraps a keras model or layer with clustering functionality
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantizers_test.py - Line 28 - C0301 (line-too-long)

- `message: Line too long (89/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  26: from tensorflow_model_optimization.python.core.quantization.keras.default_8bit import default_8bit_quantizers
  27: 
> 28: Default8BitConvWeightsQuantizer = default_8bit_quantizers.Default8BitConvWeightsQuantizer
  29: 
  30: keras = tf.keras
```


## File python/core/clustering/keras/clustering_centroids.py - Line 29 - C0301 (line-too-long)

- `message: Line too long (95/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  27: @six.add_metaclass(abc.ABCMeta)
  28: class AbstractCentroidsInitialisation:
> 29:   """Abstract base class for implementing different cluster centroid initialisation algorithms.
  30: 
  31:   Must be initialised with a reference to the
```


## File python/core/quantization/keras/default_8bit/default_8bit_transforms_test.py - Line 41 - C0301 (line-too-long)

- `message: Line too long (93/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  39: keras = tf.keras
  40: 
> 41: Conv2DBatchNormActivationQuantize = default_8bit_transforms.Conv2DBatchNormActivationQuantize
  42: Conv2DBatchNormReLUQuantize = default_8bit_transforms.Conv2DBatchNormReLUQuantize
  43:
```


## File python/core/quantization/keras/default_8bit/default_8bit_transforms_test.py - Line 42 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  40: 
  41: Conv2DBatchNormActivationQuantize = default_8bit_transforms.Conv2DBatchNormActivationQuantize
> 42: Conv2DBatchNormReLUQuantize = default_8bit_transforms.Conv2DBatchNormReLUQuantize
  43: 
  44:
```


## File python/core/quantization/keras/default_8bit/default_8bit_transforms.py - Line 49 - C0301 (line-too-long)

- `message: Line too long (100/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  47: 
  48: def _get_weights(bn_layer_node):
> 49:   """Returns weight values for fused layer, including copying original values in unfused version."""
  50: 
  51:   return collections.OrderedDict(
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantizers.py - Line 50 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  48: 
  49:   def __init__(self):
> 50:     """Construct LastValueQuantizer with params specific for TFLite Conv2DTranpose."""
  51: 
  52:     super(Default8BitConvTransposeWeightsQuantizer, self).__init__(
```


## File python/core/clustering/keras/clustering_centroids_test.py - Line 60 - C0301 (line-too-long)

- `message: Line too long (130/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  58:   )
  59:   def testReturnsMethodForExistingInit(self, init_type, method):
> 60:     """Verifies that the centroid initializer factory method returns the expected classes for the given initialization methods."""
  61:     self.assertEqual(self.factory.get_centroid_initializer(init_type), method)
  62:
```


## File python/examples/quantization/keras/mnist_cnn.py - Line 62 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  60: model = tf.keras.Sequential([
  61:     quantize.quantize_annotate_layer(
> 62:         l.Conv2D(32, 5, padding='same', activation='relu', input_shape=input_shape)),
  63:     l.MaxPooling2D((2, 2), (2, 2), padding='same'),
  64:     quantize.quantize_annotate_layer(
```


## File python/core/clustering/keras/clustering_centroids_test.py - Line 64 - C0301 (line-too-long)

- `message: Line too long (139/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  62: 
  63:   def testThrowsValueErrorForNonExistingInit(self):
> 64:     """Verifies that the centroid initializer factory method raises an exception when invoked with an unsupported initialization method."""
  65:     with self.assertRaises(ValueError):
  66:       self.factory.get_centroid_initializer("DEADBEEF")
```


## File python/core/clustering/keras/cluster.py - Line 68 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  60: def _type_model(model):
  ...
  66: 
  67:   Returns:
> 68:       [tuple]: (is_sequential_or_functional, is_keras_layer, is_subclassed_model)
  69:   """
  70:   is_sequential_or_functional = isinstance(
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 69 - C0301 (line-too-long)

- `message: Line too long (122/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  67: 
  68:   def testCannotBeInitializedWithNonLayerObject(self):
> 69:     """Verifies that ClusterWeights cannot be initialized with an object that is not an instance of keras.layers.Layer."""
  70:     with self.assertRaises(ValueError):
  71:       cluster_wrapper.ClusterWeights(
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry.py - Line 74 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  72: class Default8BitQuantizeRegistry(
  73:     quantize_registry.QuantizeRegistry, _RNNHelper):
> 74:   """QuantizationRegistry for built-in Keras classes for default 8-bit scheme."""
  75: 
  76:   # TODO(tfmot): expand layers test in quantize_functional_test.py
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 78 - C0301 (line-too-long)

- `message: Line too long (97/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  76: 
  77:   def testCannotBeInitializedWithNonClusterableLayer(self):
> 78:     """Verifies that ClusterWeights cannot be initialized with a non-clusterable custom layer."""
  79:     with self.assertRaises(ValueError):
  80:       cluster_wrapper.ClusterWeights(
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 87 - C0301 (line-too-long)

- `message: Line too long (92/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  85: 
  86:   def testCanBeInitializedWithClusterableLayer(self):
> 87:     """Verifies that ClusterWeights can be initialized with a built-in clusterable layer."""
  88:     l = cluster_wrapper.ClusterWeights(
  89:         layers.Dense(10),
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 88 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  86: 
  87:   def testApplyPrunePreserve_WithQuantizeConfig(self):
> 88:     self.prune_preserve_quantize_registry.apply_sparsity_preserve_quantize_config(
  89:         self.layer_conv2d,
  90:         default_8bit_quantize_registry.Default8BitConvQuantizeConfig(
```


## File python/core/clustering/keras/clustering_centroids_test.py - Line 92 - C0301 (line-too-long)

- `message: Line too long (90/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  90:   )
  91:   def testLinearSolverSolveForX(self, x1, y1, x2, y2, x, y):
> 92:     """Verifies that TFLinearEquationSolver solves the given equations correctly for X."""
  93:     solver = clustering_centroids.TFLinearEquationSolver(float(x1),
  94:                                                          float(y1),
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 96 - C0301 (line-too-long)

- `message: Line too long (117/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  94: 
  95:   def testCannotBeInitializedWithNonIntegerNumberOfClusters(self):
> 96:     """Verifies that ClusterWeights cannot be initialized with a string value provided for the number of clusters."""
  97:     with self.assertRaises(ValueError):
  98:       cluster_wrapper.ClusterWeights(
```


## File python/core/sparsity/keras/tools/evaluate_pruning.py - Line 96 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  94: 
  95: def run(input_model_path, output_dir, target_sparsity, block_size):
> 96:   """Prunes the model and converts both pruned and unpruned versions to TFLite."""
  97: 
  98:   print(textwrap.dedent("""\
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 96 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  90: def compile_and_fit(model,
  ...
  94:                     epochs):
  95:   model.compile(optimizer='adam',
> 96:                 loss=tf.keras.losses.SparseCategoricalCrossentropy(from_logits=True),
  97:                 metrics=['accuracy'],
  98:                 run_eagerly=True)
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 101 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   93:   def testRaisesError_Unsupported_QuantizeConfigWithLayer(self):
  ...
   99:     with self.assertRaises(ValueError,
  100:                            msg="Unregistered layers should raise error."):
> 101:       self.prune_preserve_quantize_registry.apply_sparsity_preserve_quantize_config(
  102:           self.layer_custom, self.CustomQuantizeConfig)
  103:
```


## File python/core/sparsity/keras/test_utils.py - Line 101 - C0301 (line-too-long)

- `message: Line too long (87/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   99: 
  100: def list_to_named_parameters(param_name, options):
> 101:   """Convert list of options for parameter to input to @parameterized.named_parameters.
  102: 
  103:   Arguments:
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 104 - C0301 (line-too-long)

- `message: Line too long (118/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  102: 
  103:   def testCannotBeInitializedWithFloatNumberOfClusters(self):
> 104:     """Verifies that ClusterWeights cannot be initialized with a decimal value provided for the number of clusters."""
  105:     with self.assertRaises(ValueError):
  106:       cluster_wrapper.ClusterWeights(
```


## File python/core/clustering/keras/clustering_centroids_test.py - Line 107 - C0301 (line-too-long)

- `message: Line too long (90/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  105:   )
  106:   def testLinearSolverSolveForY(self, x1, y1, x2, y2, x, y):
> 107:     """Verifies that TFLinearEquationSolver solves the given equations correctly for Y."""
  108:     solver = clustering_centroids.TFLinearEquationSolver(float(x1),
  109:                                                          float(y1),
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 108 - C0301 (line-too-long)

- `message: Line too long (101/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  106:   def setUp(self):
  107:     super(PrunePreserveDefault8bitQuantizeRegistryTest, self).setUp()
> 108:     self.default_8bit_quantize_registry = default_8bit_quantize_registry.Default8BitQuantizeRegistry(
  109:     )
  110:     self.prune_registry = prune_registry.PruneRegistry()
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 111 - C0301 (line-too-long)

- `message: Line too long (107/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  106:   def setUp(self):
  ...
  109:     )
  110:     self.prune_registry = prune_registry.PruneRegistry()
> 111:     self.prune_preserve_quantize_registry = prune_preserve_quantize_registry.PrunePreserveQuantizeRegistry(
  112:     )
  113:
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 115 - C0301 (line-too-long)

- `message: Line too long (94/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  113: 
  114:   def testSupports_Prune_Default8bitQuantize_KerasLayers(self):
> 115:     """PrunePreserveQuantize supported layer, must be supported by both Prune and Quantize."""
  116:     pqat_layers_config_map = self.prune_preserve_quantize_registry._LAYERS_CONFIG_MAP
  117:     for pqat_support_layer in pqat_layers_config_map:
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 116 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  114:   def testSupports_Prune_Default8bitQuantize_KerasLayers(self):
  115:     """PrunePreserveQuantize supported layer, must be supported by both Prune and Quantize."""
> 116:     pqat_layers_config_map = self.prune_preserve_quantize_registry._LAYERS_CONFIG_MAP
  117:     for pqat_support_layer in pqat_layers_config_map:
  118:       if (pqat_layers_config_map[pqat_support_layer].weight_attrs and
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 119 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  111: def prune_model(original_model, train_images, train_labels):
  ...
  117:   # pruning_model.summary()
  118: 
> 119:   # Remember to fix the batch_size to maybe 256 so that pruning won't be too slow
  120:   callbacks = [pruning_callbacks.UpdatePruningStep()]
  121:   compile_and_fit(pruning_model,
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 119 - C0301 (line-too-long)

- `message: Line too long (89/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  117:   def testCannotBeInitializedWithNumberOfClustersLessThanTwo(
  118:       self, number_of_clusters):
> 119:     """Verifies that ClusterWeights cannot be initialized with less than two clusters."""
  120:     with self.assertRaises(ValueError):
  121:       cluster_wrapper.ClusterWeights(
```


## File python/core/clustering/keras/clustering_centroids_test.py - Line 123 - C0301 (line-too-long)

- `message: Line too long (108/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  121:   )
  122:   def testCDFValues(self, weights, point, probability):
> 123:     """Verifies that TFCumulativeDistributionFunction yields the expected output for the inputs provided."""
  124:     cdf_calc = clustering_centroids.TFCumulativeDistributionFunction(weights)
  125:     self.assertAlmostEqual(
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 128 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   65: class ClusterWeightsTest(test.TestCase, parameterized.TestCase):
  ...
  126: 
  127:   @parameterized.parameters((0), (2), (-32))
> 128:   def testCannotBeInitializedWithSparsityPreservationAndNumberOfClustersLessThanThree(
  129:       self, number_of_clusters):
  130:     """Verifies that ClusterWeights cannot be initialized with less than three clusters when sparsity preservation is enabled."""
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 130 - C0301 (line-too-long)

- `message: Line too long (129/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  128:   def testCannotBeInitializedWithSparsityPreservationAndNumberOfClustersLessThanThree(
  129:       self, number_of_clusters):
> 130:     """Verifies that ClusterWeights cannot be initialized with less than three clusters when sparsity preservation is enabled."""
  131:     with self.assertRaises(ValueError):
  132:       cluster_wrapper.ClusterWeights(
```


## File python/core/clustering/keras/clustering_centroids.py - Line 137 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  135: 
  136: class LinearCentroidsInitialisation(AbstractCentroidsInitialisation):
> 137:   """Spaces cluster centroids evenly in the interval [min(weights), max(weights)]."""
  138: 
  139:   def _calculate_centroids_for_interval(self, weight_interval,
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 137 - C0301 (line-too-long)

- `message: Line too long (90/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  131: def cluster_model(original_model, train_images, train_labels, test_images,
  ...
  135:   clustering_params = {
  136:       'number_of_clusters': 3,
> 137:       'cluster_centroids_init': tfmot_cluster_config.CentroidInitialization.DENSITY_BASED,
  138:       'preserve_sparsity': sparsity_flag,
  139:   }
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 139 - C0301 (line-too-long)

- `message: Line too long (90/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  137: 
  138:   def testCanBeInitializedWithAlreadyClusterableLayer(self):
> 139:     """Verifies that ClusterWeights can be initialized with a custom clusterable layer."""
  140:     layer = AlreadyClusterableLayer(10)
  141:     l = cluster_wrapper.ClusterWeights(
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 140 - C0301 (line-too-long)

- `message: Line too long (88/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  131: def cluster_model(original_model, train_images, train_labels, test_images,
  ...
  138:       'preserve_sparsity': sparsity_flag,
  139:   }
> 140:   cluster_model = exp_tfmot_cluster.cluster_weights(original_model, **clustering_params)
  141: 
  142:   best_model_path = './best_ckpt_clustering'
```


## File python/core/sparsity/keras/pruning_callbacks_test.py - Line 141 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   34: class PruneCallbacksTest(tf.test.TestCase, parameterized.TestCase):
  ...
  139:   # This style of custom training loop isn't available in graph mode.
  140:   @keras_parameterized.run_all_keras_modes(always_skip_v1=True)
> 141:   def testPruneTrainingLoopRaisesError_PruningStepCallbackMissing_CustomTrainingLoop(
  142:       self):
  143:     pruned_model, _, _, x_train, _ = self._pruned_model_setup(
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 144 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  142: 
  143: class _ConvBatchNorm2D(_ConvBatchNormMixin, tf.keras.layers.Convolution2D):
> 144:   """Layer for emulating the folding of batch normalization into Conv during serving.
  145: 
  146:   Implements the emulation, as described in https://arxiv.org/abs/1712.05877.
```


## File python/core/quantization/keras/graph_transformations/transforms.py - Line 145 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  131:   def _eq_layers(self, d1, d2):
  ...
  143:       return False
  144: 
> 145:     ignore_keys = ['kernel_initializer', 'bias_initializer', 'depthwise_initializer']
  146:     d1_filtered = {k:v for k,v in d1['config'].items() if k not in ignore_keys}
  147:     d2_filtered = {k:v for k,v in d2['config'].items() if k not in ignore_keys}
```


## File python/core/quantization/keras/graph_transformations/model_transformer.py - Line 147 - C0301 (line-too-long)

- `message: Line too long (104/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  145: 
  146:   def _is_match_supported(self, layer, is_head_node):
> 147:     """Check if ModelTransformer supports transformations given number of inputs and outputs at a layer.
  148: 
  149:     Args:
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 149 - C0301 (line-too-long)

- `message: Line too long (137/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  147: 
  148:   def testIfLayerHasBatchShapeClusterWeightsMustHaveIt(self):
> 149:     """Verifies that the ClusterWeights instance created from a layer that has a batch shape attribute, will also have this attribute."""
  150:     l = cluster_wrapper.ClusterWeights(
  151:         layers.Dense(10, input_shape=(10,)),
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 163 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  161:   @keras_parameterized.run_all_keras_modes
  162:   def testValuesRemainClusteredAfterTraining(self):
> 163:     """Verifies that training a clustered model does not destroy the clusters."""
  164:     original_model = keras.Sequential([
  165:         layers.Dense(5, input_shape=(5,)),
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 167 - C0301 (line-too-long)

- `message: Line too long (190/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  164:   def testValuesAreClusteredAfterStripping(self,
  ...
  165:                                            number_of_clusters,
  166:                                            cluster_centroids_init):
> 167:     """Verifies that, for any number of clusters and any centroid initialization  method, the number of unique weight values after stripping is always less or equal to number_of_clusters."""
  168:     original_model = tf.keras.Sequential([
  169:         layers.Dense(32, input_shape=(10,)),
```


## File python/core/clustering/keras/cluster_test.py - Line 171 - C0301 (line-too-long)

- `message: Line too long (98/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  169:   @keras_parameterized.run_all_keras_modes
  170:   def testClusterKerasClusterableLayer(self):
> 171:     """Verifies that a built-in keras layer marked as clusterable is being clustered correctly."""
  172:     wrapped_layer = self._build_clustered_layer_model(
  173:         self.keras_clusterable_layer)
```


## File python/core/sparsity/keras/test_utils.py - Line 172 - C0301 (line-too-long)

- `message: Line too long (94/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  167: def assert_model_sparsity(test_case, sparsity, model, rtol=1e-6, atol=1e-6):
  ...
  170:       for weight in layer.layer.get_prunable_weights():
  171:         test_case.assertAllClose(
> 172:             sparsity, _get_sparsity(tf.keras.backend.get_value(weight)), rtol=rtol, atol=atol)
  173: 
  174:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 173 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  171:   return q_aware_model
  172: 
> 173: def cluster_preserve_quantize_model(cluster_model_path, train_images, train_labels):
  174:   """ Cluster-preserve QAT model """
  175:
```


## File python/core/clustering/keras/clustering_centroids.py - Line 173 - C0301 (line-too-long)

- `message: Line too long (95/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  171: 
  172: class RandomCentroidsInitialisation(AbstractCentroidsInitialisation):
> 173:   """Sample centroids randomly and uniformly from the interval [min(weights), max(weights)]."""
  174: 
  175:   def _calculate_centroids_for_interval(self, weight_interval,
```


## File python/core/clustering/keras/cluster_test.py - Line 179 - C0301 (line-too-long)

- `message: Line too long (136/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  177:   @keras_parameterized.run_all_keras_modes
  178:   def testClusterKerasClusterableLayerWithSparsityPreservation(self):
> 179:     """Verifies that a built-in keras layer marked as clusterable is being clustered correctly when sparsity preservation is enabled."""
  180:     preserve_sparsity_params = {'preserve_sparsity': True}
  181:     params = {**self.params, **preserve_sparsity_params}
```


## File python/core/clustering/keras/cluster_test.py - Line 189 - C0301 (line-too-long)

- `message: Line too long (96/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  187:   @keras_parameterized.run_all_keras_modes
  188:   def testClusterKerasNonClusterableLayer(self):
> 189:     """Verifies that a built-in keras layer not marked as clusterable is not being clustered."""
  190:     wrapped_layer = self._build_clustered_layer_model(
  191:         self.keras_non_clusterable_layer)
```


## File python/core/sparsity/keras/pruning_utils_test.py - Line 195 - C0301 (line-too-long)

- `message: Line too long (89/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  184:   def testMbyNSparsityMaskPrepare(self, mask_shape, weights_shape):
  ...
  193:           "error_type": tf.errors.InvalidArgumentError,
  194:       },
> 195:       {"mask_shape": [4, 4, 1], "weights_shape": [2, 2, 4, 1], "error_type": ValueError},
  196:       {"mask_shape": [4, 4], "weights_shape": [2, 2, 4], "error_type": ValueError},
  197:   )
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 195 - C0301 (line-too-long)

- `message: Line too long (90/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  193:   return quant_aware_model
  194: 
> 195: def prune_cluster_preserve_quantize_model(cluster_model_path, train_images, train_labels):
  196:   """ Prune_cluster_preserve QAT model """
  197:
```


## File python/core/sparsity/keras/pruning_utils_test.py - Line 196 - C0301 (line-too-long)

- `message: Line too long (83/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  184:   def testMbyNSparsityMaskPrepare(self, mask_shape, weights_shape):
  ...
  194:       },
  195:       {"mask_shape": [4, 4, 1], "weights_shape": [2, 2, 4, 1], "error_type": ValueError},
> 196:       {"mask_shape": [4, 4], "weights_shape": [2, 2, 4], "error_type": ValueError},
  197:   )
  198:   def testMbyNSparsityMaskPrepareRaise(self, mask_shape, weights_shape, error_type):
```


## File python/core/sparsity/keras/pruning_utils.py - Line 198 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  162: def weights_rearrange(weights):
  ...
  196:     )
  197:   else:
> 198:     raise ValueError(f"weight tensor with shape: {weights.shape} is not supported.")
  199: 
  200:   return prepared_weights
```


## File python/core/sparsity/keras/pruning_utils_test.py - Line 198 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  179: class MbyNSparsityMaskPrepareTest(tf.test.TestCase, parameterized.TestCase):
  ...
  196:       {"mask_shape": [4, 4], "weights_shape": [2, 2, 4], "error_type": ValueError},
  197:   )
> 198:   def testMbyNSparsityMaskPrepareRaise(self, mask_shape, weights_shape, error_type):
  199:     mask = tf.ones(shape=mask_shape, name="mask")
  200:     shape = tf.TensorShape(weights_shape)
```


## File python/core/clustering/keras/cluster_test.py - Line 199 - C0301 (line-too-long)

- `message: Line too long (145/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  197:   @keras_parameterized.run_all_keras_modes
  198:   def testDepthwiseConv2DLayerNonClusterable(self):
> 199:     """Verifies that we don't cluster a DepthwiseConv2D layer, because clustering of this type of layer gives big unrecoverable accuracy loss."""
  200:     wrapped_layer = self._build_clustered_layer_model(
  201:         self.keras_depthwiseconv2d_layer, input_shape=(1, 10, 10, 10))
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 202 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  188:   def testClusterWrappersAreStrippedInSubclassedModel(self):
  ...
  200:     clustered_model.build(input_shape=(None, 5))
  201: 
> 202:     self.assertIsInstance(clustered_model, cluster_wrapper.WrapperSubclassedModel)
  203: 
  204:     stripped_model = cluster.strip_clustering(clustered_model)
```


## File python/core/quantization/keras/quantize.py - Line 205 - C0301 (line-too-long)

- `message: Line too long (87/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  197:   def _add_quant_wrapper(layer):
  ...
  203:     if isinstance(layer, tf.keras.Model):
  204:       raise ValueError(
> 205:           'Quantizing a tf.keras Model inside another tf.keras Model is not supported.'
  206:       )
  207:
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 211 - C0301 (line-too-long)

- `message: Line too long (100/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  209: 
  210:   def testClusterReassociation(self):
> 211:     """Verifies that the association of weights to cluster centroids are updated every iteration."""
  212: 
  213:     # Create a dummy layer for this test
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 217 - C0301 (line-too-long)

- `message: Line too long (83/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  215:   return quant_aware_model
  216: 
> 217: def selective_pcqat_quantize_model(cluster_model_path, train_images, train_labels):
  218:   """ Selective PCQAT """
  219:   # Can apply the wrapper to some layers with QAT and others with PCQAT?
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 232 - C0301 (line-too-long)

- `message: Line too long (87/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  228: def print_unique_weights(model):
  ...
  230:   for layer in model.layers:
  231:     if isinstance(layer,
> 232:                   tf.keras.layers.Conv2D) or isinstance(layer, tf.keras.layers.Dense) \
  233:                   or isinstance(layer, quantize.quantize_wrapper.QuantizeWrapper):
  234:       for weights in layer.trainable_weights:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 233 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  228: def print_unique_weights(model):
  ...
  231:     if isinstance(layer,
  232:                   tf.keras.layers.Conv2D) or isinstance(layer, tf.keras.layers.Dense) \
> 233:                   or isinstance(layer, quantize.quantize_wrapper.QuantizeWrapper):
  234:       for weights in layer.trainable_weights:
  235:         np_weights = tf.keras.backend.get_value(weights)
```


## File python/core/sparsity/keras/pruning_utils.py - Line 237 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  203: def m_by_n_sparsity_mask_prepare(mask, weights_shape):
  ...
  235:     reshaped_mask = tf.reshape(
  236:         mask,
> 237:         [weights_shape[-1], weights_shape[0], weights_shape[1], weights_shape[2]],
  238:     )
  239:     prepared_mask = tf.transpose(reshaped_mask, perm=[1, 2, 3, 0])
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 238 - C0301 (line-too-long)

- `message: Line too long (91/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  236: 
  237:     def assert_all_weights_associated(weights, centroid_index):
> 238:       """Helper function to make sure that all weights are associated with one centroid."""
  239:       all_associated = tf.reduce_all(
  240:           tf.equal(
```


## File python/core/sparsity/keras/pruning_utils.py - Line 241 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  203: def m_by_n_sparsity_mask_prepare(mask, weights_shape):
  ...
  239:     prepared_mask = tf.transpose(reshaped_mask, perm=[1, 2, 3, 0])
  240:   else:
> 241:     raise ValueError(f"weight tensor with shape: {weights_shape} is not supported.")
  242: 
  243:   tf.debugging.assert_equal(
```


## File python/core/quantization/keras/quantize.py - Line 259 - C0301 (line-too-long)

- `message: Line too long (93/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  214: def quantize_annotate_layer(to_annotate, quantize_config=None):
  ...
  257:       quantize_config, quantize_config_mod.QuantizeConfig):
  258:     raise ValueError(
> 259:         '`quantize_config` can only be a `tfmot.quantization.keras.QuantizeConfig` instance.'
  260:         'You passed an instance of type: {input}.'.format(
  261:             input=quantize_config.__class__.__name__))
```


## File python/core/clustering/keras/cluster_test.py - Line 261 - C0301 (line-too-long)

- `message: Line too long (87/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  259: 
  260:   def testClusterKerasUnsupportedLayer(self):
> 261:     """Verifies that attempting to cluster an unsupported layer raises an exception."""
  262:     keras_unsupported_layer = self.keras_unsupported_layer
  263:     # We need to build weights before check.
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 270 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  266:     def clusters_check(stripped_model):
  ...
  268:       weights_as_list = stripped_model.get_weights()[0].reshape(-1,).tolist()
  269:       unique_weights = set(weights_as_list)
> 270:       self.assertLessEqual(len(unique_weights), self.params["number_of_clusters"])
  271: 
  272:     self.end_to_end_testing(original_model, clusters_check)
```


## File python/core/sparsity/keras/pruning_impl_test.py - Line 275 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  253:   def _sparsity2x4Masking(self, weight):
  ...
  273:       {
  274:           "testcase_name": "_2d",
> 275:           "weights": [[0.74, 0.68], [-0.89, -0.45], [-1.68, 1.24], [0.31, -0.6]],
  276:           "expected_mask": [[0.0, 1.0], [1.0, 0.0], [1.0, 1.0], [0.0, 0.0]],
  277:       },
```


## File python/core/clustering/keras/cluster_test.py - Line 280 - C0301 (line-too-long)

- `message: Line too long (118/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  278:   @keras_parameterized.run_all_keras_modes
  279:   def testClusterCustomClusterableLayerWithSparsityPreservation(self):
> 280:     """Verifies that a custom clusterable layer is being clustered correctly when sparsity preservation is enabled."""
  281:     preserve_sparsity_params = {'preserve_sparsity': True}
  282:     params = {**self.params, **preserve_sparsity_params}
```


## File python/core/sparsity/keras/pruning_impl_test.py - Line 280 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  253:   def _sparsity2x4Masking(self, weight):
  ...
  278:       {
  279:           "testcase_name": "_4d",
> 280:           "weights": [[[[-0.36, -0.77], [-0.43, -0.18], [0.12, 1.36], [0.77, 0.96]]]],
  281:           "expected_mask": [[[[0.0, 0.0], [1.0, 0.0], [0.0, 1.0], [1.0, 1.0]]]],
  282:       },
```


## File python/core/sparsity/keras/pruning_utils.py - Line 281 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  252: def generate_m_by_n_mask(weights, m_by_n: tuple = (2, 4)):
  ...
  279: 
  280:   num_blocks = tf.size(abs_weights_pad) // block_size
> 281:   reshaped_weights_into_blocks = tf.reshape(abs_weights_pad, [num_blocks, block_size])
  282:   _, top_k_indices = tf.math.top_k(
  283:       reshaped_weights_into_blocks, k=num_non_zeros, sorted=False
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 283 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   36: class ClusterPreserveIntegrationTest(tf.test.TestCase, parameterized.TestCase):
  ...
  281:   #   clustering_params = {
  282:   #       "number_of_clusters": 6,
> 283:   #       "cluster_centroids_init": cluster_config.CentroidInitialization.LINEAR,
  284:   #       "preserve_sparsity": True
  285:   #   }
```


## File python/core/sparsity/keras/pruning_utils.py - Line 285 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  252: def generate_m_by_n_mask(weights, m_by_n: tuple = (2, 4)):
  ...
  283:       reshaped_weights_into_blocks, k=num_non_zeros, sorted=False
  284:   )
> 285:   ind_i, _ = tf.meshgrid(tf.range(num_blocks), tf.range(num_non_zeros), indexing="ij")
  286:   ind_ij = tf.stack([ind_i, top_k_indices], axis=-1)
  287:   sparsity_mask_pad = tf.scatter_nd(
```


## File python/core/clustering/keras/cluster_test.py - Line 293 - C0301 (line-too-long)

- `message: Line too long (97/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  291: 
  292:   def testClusterCustomNonClusterableLayer(self):
> 293:     """Verifies that attempting to cluster a custom non-clusterable layer raises an exception."""
  294:     custom_non_clusterable_layer = self.custom_non_clusterable_layer
  295:     # Once layer is empty with no weights allocated, clustering is supported.
```


## File python/core/sparsity/keras/pruning_utils.py - Line 295 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  252: def generate_m_by_n_mask(weights, m_by_n: tuple = (2, 4)):
  ...
  293: 
  294:   # remove padding from mask
> 295:   sparsity_mask = tf.slice(reshaped_sparsity_mask_pad, [0, 0], abs_weights.shape)
  296: 
  297:   return sparsity_mask
```


## File python/core/quantization/keras/graph_transformations/model_transformer.py - Line 296 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  294: 
  295:   def _replace(self, match_layer_node, replacement_layer_node):
> 296:     """Replace the tree or chain of match_layer_node with replacement_layer_node."""
  297:     if self._is_functional_model(self.model):
  298:       self._replace_functional(match_layer_node, replacement_layer_node)
```


## File python/core/quantization/keras/graph_transformations/model_transformer.py - Line 303 - C0301 (line-too-long)

- `message: Line too long (93/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  301: 
  302:   def _replace_functional(self, match_layer_node, replacement_layer_node):
> 303:     """Functional model: replace the tree of match_layer_node with replacement_layer_node."""
  304: 
  305:     # 1. Point all consumers of the head of the matching sub-tree to the head
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 312 - C0301 (line-too-long)

- `message: Line too long (81/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  293:   def testEndToEndPruneClusterPreserveQAT(self):
  ...
  310:     # clustering_params = {
  311:     #     "number_of_clusters": 6,
> 312:     #     "cluster_centroids_init": cluster_config.CentroidInitialization.LINEAR,
  313:     #     "preserve_sparsity": True
  314:     # }
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 317 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  315:   # Call PCQAT
  316:   # print('Apply PCQAT')
> 317:   # cqat_model = prune_cluster_preserve_quantize_model(CLUSTER_PATH, train_images,
  318:   #                                                    train_labels)
  319:   # cqat_acc = evaluate_model_fp32(cqat_model, test_images, test_labels)
```


## File python/core/clustering/keras/cluster.py - Line 317 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  289:   def _wrap_list(layers):
  ...
  315:     for i, layer in enumerate(to_cluster.submodules):
  316:       if tf_version > layers_tf_version:
> 317:         to_cluster._self_tracked_trackables[i] = _add_clustering_wrapper(layer=layer)
  318:       else:
  319:         to_cluster._layers[i] = _add_clustering_wrapper(layer=layer)
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry.py - Line 324 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  321: class PrunePreserveDefault8BitConvWeightsQuantizer(
  ...
  322:     PrunePreserveDefaultWeightsQuantizer,
  323:     default_8bit_quantizers.Default8BitConvWeightsQuantizer,):
> 324:   """PrunePreserveWeightsQuantizer for default 8bit Conv2D/DepthwiseConv2D weights."""
  325: 
  326:   # pylint: disable=super-init-not-called
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 348 - C0301 (line-too-long)

- `message: Line too long (94/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  346: class _DepthwiseConvBatchNorm2D(_ConvBatchNormMixin,
  347:                                 tf.keras.layers.DepthwiseConv2D):
> 348:   """Layer for emulating the folding of batch normalization into DepthwiseConv during serving.
  349: 
  350:   See ConvBatchNorm2D for detailed comments.
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test.py - Line 356 - C0301 (line-too-long)

- `message: Line too long (102/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  354: 
  355:   def testTrainableWeightsBehaveCorrectlyDuringPCQAT(self):
> 356:     """PCQAT zero centroid masks stay the same and trainable variables are updating between epochs."""
  357:     preserve_sparsity = True
  358:     clustered_model = self._get_clustered_model(preserve_sparsity)
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 363 - C0301 (line-too-long)

- `message: Line too long (91/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  318:   def testEndToEndSubclassedModelTwoLayers(self):
  ...
  361: 
  362:     # We strip from layers that were wrapped.
> 363:     subclassed_model.dense_layer1 = cluster.strip_clustering(subclassed_model.dense_layer1)
  364:     subclassed_model.dense_layer2 = cluster.strip_clustering(subclassed_model.dense_layer2)
  365:
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 364 - C0301 (line-too-long)

- `message: Line too long (91/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  318:   def testEndToEndSubclassedModelTwoLayers(self):
  ...
  362:     # We strip from layers that were wrapped.
  363:     subclassed_model.dense_layer1 = cluster.strip_clustering(subclassed_model.dense_layer1)
> 364:     subclassed_model.dense_layer2 = cluster.strip_clustering(subclassed_model.dense_layer2)
  365: 
  366:     # Checks that the number of unique values is less than the requested
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry_test.py - Line 366 - C0301 (line-too-long)

- `message: Line too long (87/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  358:   def setUp(self):
  ...
  364:     self.layer.build(input_shape=(3, 2))
  365: 
> 366:     self.quantize_config = default_8bit_quantize_registry.Default8BitQuantizeConfigRNN(
  367:         [['kernel', 'recurrent_kernel'], ['kernel', 'recurrent_kernel']],
  368:         [['activation', 'recurrent_activation'],
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 377 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  375:   @keras_parameterized.run_all_keras_modes(always_skip_v1=True)
  376:   def testEndToEndSubclassedModelAsDeepLayer(self):
> 377:     """Test End to End clustering for the model with the layer as a subclass model."""
  378:     # This case is not supported currently.
  379:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 378 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  376: 
  377:   # # compare with clustering
> 378:   # converter = tf.lite.TFLiteConverter.from_keras_model(clustered_model_stripped)
  379:   # converter.optimizations = [tf.lite.Optimize.DEFAULT]
  380:   # clustered_model_stripped_tflite = converter.convert()
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 380 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  376:   def testEndToEndSubclassedModelAsDeepLayer(self):
  ...
  378:     # This case is not supported currently.
  379: 
> 380:     internal_model = tf.keras.Sequential([tf.keras.layers.Dense(5, input_shape=(5,))])
  381:     subclassed_model = SubclassedModel()
  382:     original_model = keras.Sequential([
```


## File python/core/clustering/keras/cluster.py - Line 409 - C0301 (line-too-long)

- `message: Line too long (91/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  361:   def _strip_clustering_wrapper(layer):
  ...
  407:     if tf_version > layers_tf_version:
  408:       for i, layer in enumerate(to_strip_model._self_tracked_trackables):
> 409:         to_strip_model._self_tracked_trackables[i] = _strip_clustering_wrapper(layer=layer)
  410:     else:
  411:       for i, layer in enumerate(to_strip_model._layers):
```


## File python/core/clustering/keras/cluster_test.py - Line 409 - C0301 (line-too-long)

- `message: Line too long (98/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  407: 
  408:   def testClusterMyClusterableLayerInvalid(self):
> 409:     """Verifies that assertion is thrown when function get_clusterable_weights is not provided."""
  410:     with self.assertRaises(TypeError):
  411:       MyClusterableLayerInvalid(10)  # pylint: disable=abstract-class-instantiated
```


## File python/core/quantization/keras/graph_transformations/model_transformer.py - Line 411 - C0301 (line-too-long)

- `message: Line too long (94/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  409: 
  410:   def _replace_sequential(self, match_layer_node, replacement_layer_node):
> 411:     """Sequential model: replace the chain of match_layer_node with replacement_layer_node."""
  412:     # 1. Remove the original matched layers.
  413:     layers_to_remove_names = self._get_layer_names(match_layer_node)
```


## File python/core/clustering/keras/cluster_test.py - Line 414 - C0301 (line-too-long)

- `message: Line too long (87/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  412: 
  413:   def testClusterKerasCustomLayer(self):
> 414:     """Verifies that attempting to cluster a keras custom layer raises an exception."""
  415:     # If layer is not built, it has not weights, so
  416:     # we just skip it.
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 424 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  422: 
  423: class ClusterWeightsMHA(ClusterWeights):
> 424:   """This wrapper augments a keras MHA layer so that the weights can be clustered."""
  425: 
  426:   def get_weight_from_layer(self, weight_name):
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 437 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  353:   def __init__(
  ...
  435:     self.is_quantized = is_quantized
  436:     if self.is_quantized:
> 437:       self.weight_quantizer = default_8bit_quantizers.Default8BitConvWeightsQuantizer(
  438:       )
  439:
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 439 - C0301 (line-too-long)

- `message: Line too long (82/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  435:   def strip_clustering(self):
  ...
  437:     weights are not created when the build function is called. Therefore,
  438:     original weights have been replaced in the layer."""
> 439:     for weight_name, original_weight in self.original_clusterable_weights.items():
  440: 
  441:       # Get the clustered weights
```


## File python/core/quantization/keras/quantize.py - Line 442 - C0301 (line-too-long)

- `message: Line too long (99/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  401:   def _quantize(layer):  # pylint: disable=missing-docstring
  ...
  440:   except ValueError:
  441:     raise ValueError(
> 442:         'Unable to clone model. This generally happens if you used custom Keras layers or objects '
  443:         'in your model. Please specify them via `quantize_scope` for your calls to `quantize_model` '
  444:         'and `quantize_apply`.'
```


## File python/core/quantization/keras/quantize.py - Line 443 - C0301 (line-too-long)

- `message: Line too long (101/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  401:   def _quantize(layer):  # pylint: disable=missing-docstring
  ...
  441:     raise ValueError(
  442:         'Unable to clone model. This generally happens if you used custom Keras layers or objects '
> 443:         'in your model. Please specify them via `quantize_scope` for your calls to `quantize_model` '
  444:         'and `quantize_apply`.'
  445:     )
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry_test.py - Line 475 - C0301 (line-too-long)

- `message: Line too long (89/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  473: 
  474:   def testRaisesErrorUnsupportedActivation(self):
> 475:     quantize_config = default_8bit_quantize_registry.Default8BitActivationQuantizeConfig(
  476:     )
  477:
```


## File python/core/clustering/keras/cluster_test.py - Line 509 - C0301 (line-too-long)

- `message: Line too long (124/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  507:   @keras_parameterized.run_all_keras_modes
  508:   def testClusterSequentialModelSelectivelyWithSparsityPreservation(self):
> 509:     """Verifies that layers within a sequential model can be clustered selectively when sparsity preservation is enabled."""
  510:     preserve_sparsity_params = {'preserve_sparsity': True}
  511:     params = {**self.params, **preserve_sparsity_params}
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry.py - Line 511 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  507:   def __init__(self, weight_attrs, activation_attrs, quantize_output):
  ...
  509:           self).__init__(weight_attrs, activation_attrs, quantize_output)
  510: 
> 511:     self.weight_quantizer = default_8bit_quantizers.Default8BitConvWeightsQuantizer(
  512:     )
  513:
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 515 - C0301 (line-too-long)

- `message: Line too long (85/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  513: 
  514:   def _train(self, model):
> 515:     model.compile(loss="binary_crossentropy", optimizer="adam", metrics=["accuracy"])
  516:     model.fit(
  517:       self.x_train,
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry.py - Line 522 - C0301 (line-too-long)

- `message: Line too long (93/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  518:   def __init__(self, weight_attrs, activation_attrs, quantize_output):
  ...
  520:           self).__init__(weight_attrs, activation_attrs, quantize_output)
  521: 
> 522:     self.weight_quantizer = default_8bit_quantizers.Default8BitConvTransposeWeightsQuantizer(
  523:     )
  524:
```


## File python/core/clustering/keras/cluster_test.py - Line 533 - C0301 (line-too-long)

- `message: Line too long (101/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  525:   def testClusterSequentialModelSelectivelyWithSparsityPreservation(self):
  ...
  531:     params = { **self.params, **preserve_sparsity_params }
  532:     clustered_model = keras.Sequential()
> 533:     clustered_model.add(experimental_cluster.cluster_weights(self.keras_clusterable_layer, **params))
  534:     clustered_model.add(self.keras_clusterable_layer)
  535:     clustered_model.build(input_shape=(1, 10))
```


## File python/core/clustering/keras/cluster_test.py - Line 537 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  525:   def testClusterSequentialModelSelectivelyWithSparsityPreservation(self):
  ...
  535:     clustered_model.build(input_shape=(1, 10))
  536: 
> 537:     self.assertIsInstance(clustered_model.layers[0], cluster_wrapper.ClusterWeights)
  538:     self.assertNotIsInstance(clustered_model.layers[1], cluster_wrapper.ClusterWeights)
  539:
```


## File python/core/clustering/keras/cluster_test.py - Line 538 - C0301 (line-too-long)

- `message: Line too long (87/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  525:   def testClusterSequentialModelSelectivelyWithSparsityPreservation(self):
  ...
  536: 
  537:     self.assertIsInstance(clustered_model.layers[0], cluster_wrapper.ClusterWeights)
> 538:     self.assertNotIsInstance(clustered_model.layers[1], cluster_wrapper.ClusterWeights)
  539: 
  540:   @keras_parameterized.run_all_keras_modes
```


## File python/core/clustering/keras/cluster_test.py - Line 542 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  540:   @keras_parameterized.run_all_keras_modes
  541:   def testClusterFunctionalModelSelectively(self):
> 542:     """Verifies that layers within a functional model can be clustered selectively."""
  543:     i1 = keras.Input(shape=(10,))
  544:     i2 = keras.Input(shape=(10,))
```


## File python/core/clustering/keras/cluster_test.py - Line 557 - C0301 (line-too-long)

- `message: Line too long (124/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  555:   @keras_parameterized.run_all_keras_modes
  556:   def testClusterFunctionalModelSelectivelyWithSparsityPreservation(self):
> 557:     """Verifies that layers within a functional model can be clustered selectively when sparsity preservation is enabled."""
  558:     preserve_sparsity_params = {'preserve_sparsity': True}
  559:     params = {**self.params, **preserve_sparsity_params}
```


## File python/core/clustering/keras/cluster_test.py - Line 587 - C0301 (line-too-long)

- `message: Line too long (84/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  573:   def testClusterFunctionalModelSelectivelyWithSparsityPreservation(self):
  ...
  585:     clustered_model = keras.Model(inputs=[i1, i2], outputs=outputs)
  586: 
> 587:     self.assertIsInstance(clustered_model.layers[2], cluster_wrapper.ClusterWeights)
  588:     self.assertNotIsInstance(clustered_model.layers[3], cluster_wrapper.ClusterWeights)
  589:
```


## File python/core/clustering/keras/cluster_test.py - Line 588 - C0301 (line-too-long)

- `message: Line too long (87/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  573:   def testClusterFunctionalModelSelectivelyWithSparsityPreservation(self):
  ...
  586: 
  587:     self.assertIsInstance(clustered_model.layers[2], cluster_wrapper.ClusterWeights)
> 588:     self.assertNotIsInstance(clustered_model.layers[3], cluster_wrapper.ClusterWeights)
  589: 
  590:   @keras_parameterized.run_all_keras_modes
```


## File python/core/clustering/keras/cluster_test.py - Line 592 - C0301 (line-too-long)

- `message: Line too long (121/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  590:   @keras_parameterized.run_all_keras_modes
  591:   def testClusterModelValidLayersSuccessful(self):
> 592:     """Verifies that clustering a sequential model results in all clusterable layers within the model being clustered."""
  593:     model = keras.Sequential([
  594:         self.keras_clusterable_layer, self.keras_non_clusterable_layer,
```


## File python/core/clustering/keras/cluster_test.py - Line 606 - C0301 (line-too-long)

- `message: Line too long (159/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  604:   @keras_parameterized.run_all_keras_modes
  605:   def testClusterModelValidLayersSuccessfulWithSparsityPreservation(self):
> 606:     """Verifies that clustering a sequential model results in all clusterable layers within the model being clustered when sparsity preservation is enabled."""
  607:     preserve_sparsity_params = {'preserve_sparsity': True}
  608:     params = {**self.params, **preserve_sparsity_params}
```


## File python/core/clustering/keras/cluster_test.py - Line 621 - C0301 (line-too-long)

- `message: Line too long (109/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  619: 
  620:   def testClusterModelUnsupportedKerasLayerRaisesError(self):
> 621:     """Verifies that attempting to cluster a model that contains an unsupported layer raises an exception."""
  622:     keras_unsupported_layer = self.keras_unsupported_layer
  623:     # We need to build weights before check.
```


## File python/core/clustering/keras/cluster_test.py - Line 633 - C0301 (line-too-long)

- `message: Line too long (119/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  631: 
  632:   def testClusterModelCustomNonClusterableLayerRaisesError(self):
> 633:     """Verifies that attempting to cluster a model that contains a custom non-clusterable layer raises an exception."""
  634:     with self.assertRaises(ValueError):
  635:       custom_non_clusterable_layer = self.custom_non_clusterable_layer
```


## File python/core/clustering/keras/cluster_test.py - Line 646 - C0301 (line-too-long)

- `message: Line too long (161/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  644:   @keras_parameterized.run_all_keras_modes
  645:   def testClusterModelDoesNotWrapAlreadyWrappedLayer(self):
> 646:     """Verifies that clustering a model that contains an already clustered layer does not result in wrapping the clustered layer into another cluster_wrapper."""
  647:     model = keras.Sequential([
  648:         layers.Flatten(),
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 652 - C0301 (line-too-long)

- `message: Line too long (86/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  650:   def testClusterStackedRNNCells(self):
  651:     model = keras.models.Sequential()
> 652:     model.add(keras.layers.Embedding(self.max_features, 16, input_length=self.maxlen))
  653:     model.add(
  654:       tf.keras.layers.RNN(
```


## File python/core/clustering/keras/cluster_test.py - Line 662 - C0301 (line-too-long)

- `message: Line too long (118/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  660: 
  661:   def testClusterValidLayersListSuccessful(self):
> 662:     """Verifies that clustering a list of layers results in all clusterable layers within the list being clustered."""
  663:     model_layers = [
  664:         self.keras_clusterable_layer, self.keras_non_clusterable_layer,
```


## File python/core/clustering/keras/cluster_test.py - Line 674 - C0301 (line-too-long)

- `message: Line too long (95/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  672: 
  673:   def testClusterSequentialModelNoInput(self):
> 674:     """Verifies that a sequential model without an input layer is being clustered correctly."""
  675:     # No InputLayer
  676:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_test.py - Line 685 - C0301 (line-too-long)

- `message: Line too long (92/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  683:   @keras_parameterized.run_all_keras_modes
  684:   def testClusterSequentialModelWithInput(self):
> 685:     """Verifies that a sequential model with an input layer is being clustered correctly."""
  686:     # With InputLayer
  687:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 694 - C0301 (line-too-long)

- `message: Line too long (89/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  691:   def _get_model(self):
  ...
  692:     """Returns functional model with MHA layer."""
  693:     inp = tf.keras.layers.Input(shape=(32,32), batch_size=100)
> 694:     x = tf.keras.layers.MultiHeadAttention(num_heads=2, key_dim=16)(query=inp, value=inp)
  695:     out = tf.keras.layers.Flatten()(x)
  696:     model = tf.keras.Model(inputs=inp, outputs=out)
```


## File python/core/clustering/keras/cluster_test.py - Line 695 - C0301 (line-too-long)

- `message: Line too long (116/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  693: 
  694:   def testClusterSequentialModelPreservesBuiltStateNoInput(self):
> 695:     """Verifies that clustering a sequential model without an input layer preserves the built state of the model."""
  696:     # No InputLayer
  697:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 710 - C0301 (line-too-long)

- `message: Line too long (88/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  700:   def testMHA(self):
  ...
  708:       metrics=[tf.keras.metrics.SparseCategoricalAccuracy(name='accuracy')])
  709:     clustered_model.run_eagerly = True
> 710:     clustered_model.fit(self.x_train, self.y_train, epochs=1, batch_size=100, verbose=1)
  711: 
  712:     stripped_model = cluster.strip_clustering(clustered_model)
```


## File python/core/clustering/keras/cluster_test.py - Line 713 - C0301 (line-too-long)

- `message: Line too long (113/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  711:   @keras_parameterized.run_all_keras_modes
  712:   def testClusterSequentialModelPreservesBuiltStateWithInput(self):
> 713:     """Verifies that clustering a sequential model with an input layer preserves the built state of the model."""
  714:     # With InputLayer
  715:     model = keras.Sequential([
```


## File python/core/clustering/keras/cluster_test.py - Line 731 - C0301 (line-too-long)

- `message: Line too long (93/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  729:   @keras_parameterized.run_all_keras_modes
  730:   def testClusterFunctionalModelPreservesBuiltState(self):
> 731:     """Verifies that clustering a functional model preserves the built state of the model."""
  732:     i1 = keras.Input(shape=(10,))
  733:     i2 = keras.Input(shape=(10,))
```


## File python/core/clustering/keras/cluster_test.py - Line 804 - C0301 (line-too-long)

- `message: Line too long (109/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  802:   @keras_parameterized.run_all_keras_modes
  803:   def testClusterFunctionalModelWithLayerReused(self):
> 804:     """Verifies that a layer reused within a functional model multiple times is only being clustered once."""
  805:     # The model reuses the Dense() layer. Make sure it's only clustered once.
  806:     inp = keras.Input(shape=(10,))
```


## File python/core/clustering/keras/cluster_test.py - Line 831 - C0301 (line-too-long)

- `message: Line too long (107/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  829:   @keras_parameterized.run_all_keras_modes
  830:   def testClusterSubclassModelAsSubmodel(self):
> 831:     """Verifies that attempting to cluster a model with submodel that is a subclass throws an exception."""
  832:     model_subclass = SubclassedModel()
  833:     model = keras.Sequential([layers.Dense(10), model_subclass])
```


## File python/core/clustering/keras/cluster_test.py - Line 839 - C0301 (line-too-long)

- `message: Line too long (111/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  837:   @keras_parameterized.run_all_keras_modes
  838:   def testStripClusteringSequentialModel(self):
> 839:     """Verifies that stripping the clustering wrappers from a sequential model produces the expected config."""
  840:     model = keras.Sequential([
  841:         layers.Dense(10, input_shape=(5,)),
```


## File python/core/clustering/keras/cluster_test.py - Line 853 - C0301 (line-too-long)

- `message: Line too long (111/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  851:   @keras_parameterized.run_all_keras_modes
  852:   def testClusterStrippingFunctionalModel(self):
> 853:     """Verifies that stripping the clustering wrappers from a functional model produces the expected config."""
  854:     i1 = keras.Input(shape=(10,))
  855:     i2 = keras.Input(shape=(10,))
```


## File python/core/clustering/keras/cluster_test.py - Line 869 - C0301 (line-too-long)

- `message: Line too long (114/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  867:   @keras_parameterized.run_all_keras_modes
  868:   def testClusterWeightsStrippedWeights(self):
> 869:     """Verifies that stripping the clustering wrappers from a functional model preserves the clustered weights."""
  870:     i1 = keras.Input(shape=(10,))
  871:     x1 = layers.BatchNormalization()(i1)
```


## File python/core/clustering/keras/cluster_test.py - Line 884 - C0301 (line-too-long)

- `message: Line too long (171/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  882:   @keras_parameterized.run_all_keras_modes
  883:   def testStrippedKernel(self):
> 884:     """Verifies that stripping the clustering wrappers from a functional model restores the layers kernel and the layers weight array to the new clustered weight value."""
  885:     i1 = keras.Input(shape=(1, 1, 1))
  886:     x1 = layers.Conv2D(1, 1)(i1)
```


## File python/core/clustering/keras/cluster_test.py - Line 902 - C0301 (line-too-long)

- `message: Line too long (153/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  900:   @keras_parameterized.run_all_keras_modes
  901:   def testStripSelectivelyClusteredFunctionalModel(self):
> 902:     """Verifies that invoking strip_clustering() on a selectively clustered functional model strips the clustering wrappers from the clustered layers."""
  903:     i1 = keras.Input(shape=(10,))
  904:     i2 = keras.Input(shape=(10,))
```


## File python/core/clustering/keras/cluster_test.py - Line 917 - C0301 (line-too-long)

- `message: Line too long (153/80)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  915:   @keras_parameterized.run_all_keras_modes
  916:   def testStripSelectivelyClusteredSequentialModel(self):
> 917:     """Verifies that invoking strip_clustering() on a selectively clustered sequential model strips the clustering wrappers from the clustered layers."""
  918:     clustered_model = keras.Sequential([
  919:         cluster.cluster_weights(layers.Dense(10), **self.params),
```


# C0303: trailing-whitespace

## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_distributed_test.py - Line 76 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  65:   def _get_clustered_model(clustering_params):
  ...
  74:     clustered_model = experimental_cluster.cluster_weights(
  75:         original_model, **clustering_params)
> 76:     
  77:     return clustered_model
  78:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 100 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   36: class ClusterPreserveIntegrationTest(tf.test.TestCase, parameterized.TestCase):
  ...
   98:         epochs=1
   99:     )
> 100:  
  101:   @staticmethod
  102:   def _get_number_of_unique_weights(stripped_model, layer_nr, weight_name):
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 127 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   36: class ClusterPreserveIntegrationTest(tf.test.TestCase, parameterized.TestCase):
  ...
  125:     return sparsity_list
  126:   
> 127:   @staticmethod  
  128:   def _get_clustered_model(sparsity_flag):
  129:     """Cluster the (sparse) model and return clustered_model."""
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_distributed_test.py - Line 144 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   99:   def testClusterSimpleDenseModel(self, distribution, clustering_params):
  ...
  142:         stripped_pcqat_model, 1, 'kernel')
  143:     self.assertAllEqual(nr_of_unique_weights_clustered,
> 144:                         nr_of_unique_weights_pcqat)    
  145: 
  146:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 180 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  156:   def _pcqat_training(self, sparsity_flag, quant_aware_annotate_model):
  ...
  178:     
  179:     return sparsity_pruning, sparsity_pcqat
> 180:   
  181:   # @keras_parameterized.run_all_keras_modes
  182:   # def testEndToEndClusterPreserve(self):
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 292 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
   36: class ClusterPreserveIntegrationTest(tf.test.TestCase, parameterized.TestCase):
  ...
  290:   #   return clustered_model
  291: 
> 292:   @keras_parameterized.run_all_keras_modes 
  293:   def testEndToEndPruneClusterPreserveQAT(self):
  294:     """Verifies that we can run PCQAT end to end when we quantize the whole
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 314 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  275: def main(unused_args):
  ...
  312:   # cqat_model = cluster_preserve_quantize_model(CLUSTER_PATH, train_images,
  313:   #                                              train_labels)
> 314:   
  315:   # Call PCQAT
  316:   # print('Apply PCQAT')
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 372 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  350:     def _pcqat_training(sparsity_flag, quant_aware_annotate_model):
  ...
  370:       # sparsity_pruning = self._check_sparsity(stripped_model_before_tuning)
  371:       # sparsity_pcqat = self._check_sparsity(stripped_pcqat_model)
> 372:       
  373:       return sparsity_pruning, sparsity_pcqat
  374:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 405 - C0303 (trailing-whitespace)

- `message: Trailing whitespace`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  350:     def _pcqat_training(sparsity_flag, quant_aware_annotate_model):
  ...
  403:     # nr_of_unique_weights_after = self._get_number_of_unique_weights(
  404:     #     clustered_model, 0, 'kernel')
> 405:     
  406:     # # Check after plain clustering, there are no null weights
  407:     # # PCQAT falls back to CQAT
```


# C0304: missing-final-newline

## File python/core/sparsity/keras/pruning_utils.py - Line 335 - C0304 (missing-final-newline)

- `message: Final newline missing`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  300: def is_pruned_2x4(weights, last_channel="C_OUT"):
  ...
  333:       if np.count_nonzero(prepared_weights_np[row, col:col+4]) > 2:
  334:         return False
> 335:   return True
```


# C0413: wrong-import-position

## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 46 - C0413 (wrong-import-position)

- `message: Import "from numpy.random import seed" should be placed at the top of the module`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  44: 
  45: # seed the random initialization
> 46: from numpy.random import seed
  47: seed(1)
  48: # from tensorflow import set_seed
```


# C0415: import-outside-toplevel

## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 158 - C0415 (import-outside-toplevel)

- `message: Import outside toplevel (tensorflow_model_optimization)`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  156: 
  157: def qat_on_model(model, train_images, train_labels):
> 158:   import tensorflow_model_optimization as tfmot
  159:   quantize_model = tfmot.quantization.keras.quantize_model
  160:
```


# R0402: consider-using-from-import

## File python/core/sparsity/keras/pruning_policy_test.py - Line 17 - R0402 (consider-using-from-import)

- `message: Use 'from distutils import version' instead`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  15: """Pruning Policy tests."""
  16: 
> 17: import distutils.version as version
  18: 
  19: import tensorflow as tf
```


# R1701: consider-merging-isinstance

## File python/examples/quantization_with_sparsity/keras/mnist_cnn.py - Line 84 - R1701 (consider-merging-isinstance)

- `message: Consider merging these isinstance calls to isinstance(layer, (prune.pruning_wrapper.PruneLowMagnitude, quantize.quantize_wrapper.QuantizeWrapper))`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  78: def evaluate_and_show_sparsity(model, image_test, label_test):
  ...
  82: 
  83:   for layer in model.layers:
> 84:     if isinstance(layer,
  85:                   prune.pruning_wrapper.PruneLowMagnitude) or isinstance(
  86:                       layer, quantize.quantize_wrapper.QuantizeWrapper):
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn.py - Line 129 - R1701 (consider-merging-isinstance)

- `message: Consider merging these isinstance calls to isinstance(layer, (quantize.quantize_wrapper.QuantizeWrapper, tf.keras.layers.Conv2D, tf.keras.layers.Dense))`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  126: def print_unique_weights(model):
  ...
  127:   """Check Dense and Conv2D layers."""
  128:   for layer in model.layers:
> 129:     if (isinstance(layer, tf.keras.layers.Conv2D)
  130:         or isinstance(layer, tf.keras.layers.Dense)
  131:         or isinstance(layer, quantize.quantize_wrapper.QuantizeWrapper)):
```


## File python/core/quantization/keras/quantize_wrapper.py - Line 175 - R1701 (consider-merging-isinstance)

- `message: Consider merging these isinstance calls to isinstance(outputs, (list, tuple))`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  137:   def call(self, inputs, training=None, **kwargs):
  ...
  173:     # Assuming outputs is a single tensor. There might be some rare layers
  174:     # where this is not true. Handle them when enabling such a layer.
> 175:     if isinstance(outputs, list) or isinstance(outputs, tuple):
  176:       raise RuntimeError('Multiple output tensors not handled currently.')
  177:
```


## File python/examples/cluster_preserve_qat/keras/mnist_cnn_debug.py - Line 231 - R1701 (consider-merging-isinstance)

- `message: Consider merging these isinstance calls to isinstance(layer, (quantize.quantize_wrapper.QuantizeWrapper, tf.keras.layers.Conv2D, tf.keras.layers.Dense))`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  228: def print_unique_weights(model):
  ...
  229:   """ Check Dense and Conv2D layers """
  230:   for layer in model.layers:
> 231:     if isinstance(layer,
  232:                   tf.keras.layers.Conv2D) or isinstance(layer, tf.keras.layers.Dense) \
  233:                   or isinstance(layer, quantize.quantize_wrapper.QuantizeWrapper):
```


## File python/core/clustering/keras/cluster.py - Line 267 - R1701 (consider-merging-isinstance)

- `message: Consider merging these isinstance calls to isinstance(layer, (tf.keras.layers.Bidirectional, tf.keras.layers.RNN))`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  251:   def _add_clustering_wrapper(layer):
  ...
  265:     if isinstance(layer, InputLayer):
  266:       return layer.__class__.from_config(layer.get_config())
> 267:     if isinstance(layer, tf.keras.layers.RNN) or isinstance(
  268:         layer, tf.keras.layers.Bidirectional):
  269:       return cluster_wrapper.ClusterWeightsRNN(
```


# R1703: simplifiable-if-statement

## File python/core/internal/tensor_encoding/stages/stages_impl.py - Line 316 - R1703 (simplifiable-if-statement)

- `message: The if statement can be replaced with 'return bool(test)'`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  313:   def commutes_with_sum(self):
  ...
  314:     """See base class."""
  315:     # The stage commutes with sum only if min_max values are shared.
> 316:     if self._min_max is not None:
  317:       return True
  318:     else:
```


# R1707: trailing-comma-tuple

## File python/core/sparsity/keras/prune_integration_test.py - Line 150 - R1707 (trailing-comma-tuple)

- `message: Disallow trailing comma tuple`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  143:   def _train_model(self,
  ...
  148:                    callbacks=None):
  149:     if x_train is None:
> 150:       x_train = np.random.rand(20, 10),
  151:     if y_train is None:
  152:       y_train = keras.utils.to_categorical(
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 188 - R1707 (trailing-comma-tuple)

- `message: Disallow trailing comma tuple`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  177:   def testPrunesZeroSparsity_IsNoOp(self):
  ...
  186:     pruned_model = prune.prune_low_magnitude(model2, **params)
  187: 
> 188:     x_train = np.random.rand(20, 10),
  189:     y_train = keras.utils.to_categorical(np.random.randint(5, size=(20, 1)), 5)
  190:
```


# R1718: consider-using-set-comprehension

## File python/core/quantization/keras/graph_transformations/model_transformer_test.py - Line 500 - R1718 (consider-using-set-comprehension)

- `message: Consider using a set comprehension`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  491:       def replacement(self, match_layer):
  ...
  498:         model,
  499:         [ReplaceReLUWithSoftmax(), ReplaceSoftmaxWithELU()],
> 500:         candidate_layers=set([layer.name for layer in model.layers])
  501:     ).transform()
  502:
```


## File python/core/internal/tensor_encoding/testing/test_utils_test.py - Line 539 - R1718 (consider-using-set-comprehension)

- `message: Consider using a set comprehension`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  529:   def test_get_tensor_with_random_shape(self):
  ...
  537:     # at execution time.
  538:     samples = [self.evaluate(x) for _ in range(10)]
> 539:     self.assertGreater(len(set([len(s) for s in samples])), 1)
  540: 
  541:     # Test that source_fn has effect on the output values.
```


# R1721: unnecessary-comprehension

## File python/core/clustering/keras/cluster_wrapper_test.py - Line 161 - R1721 (unnecessary-comprehension)

- `message: Unnecessary use of a comprehension, use list(CentroidInitialization) instead.`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  148:   def testIfLayerHasBatchShapeClusterWeightsMustHaveIt(self):
  ...
  159:       *itertools.product(
  160:           range(2, 16, 4),
> 161:           [type_centroid for type_centroid in CentroidInitialization]
  162:       )
  163:   )
```


# R1725: super-with-arguments

## File python/core/quantization/keras/default_8bit/default_8bit_quantizers.py - Line 28 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  25:   def __init__(self):
  ...
  26:     """Construct LastValueQuantizer with params specific for TFLite Convs."""
  27: 
> 28:     super(Default8BitConvWeightsQuantizer, self).__init__(
  29:         num_bits=8, per_axis=True, symmetric=True, narrow_range=True)
  30:
```


## File python/core/keras/metrics_test.py - Line 29 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  27: 
  28:   def setUp(self):
> 29:     super(MetricsTest, self).setUp()
  30:     self.test_label = tf.keras.layers.Conv2D(1, 1).__class__.__name__
  31:     for label in [
```


## File python/core/clustering/keras/clustering_centroids_test.py - Line 33 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  31: 
  32:   def setUp(self):
> 33:     super(ClusteringCentroidsTest, self).setUp()
  34:     self.factory = clustering_centroids.CentroidsInitializerFactory
  35:
```


## File python/core/quantization/keras/quantize_layer_test.py - Line 35 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  33: 
  34:   def setUp(self):
> 35:     super(QuantizeLayerTest, self).setUp()
  36:     self.quant_params = {
  37:         'num_bits': 8,
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 35 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  33:                                         parameterized.TestCase):
  34:   def setUp(self):
> 35:     super(PrunePreserveQuantizeRegistryTest, self).setUp()
  36:     self.prune_preserve_quantize_registry = prune_preserve_quantize_registry.PrunePreserveQuantizeRegistry(
  37:     )
```


## File python/core/sparsity/keras/pruning_wrapper_test.py - Line 35 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  33: 
  34:   def __init__(self, input_dim=16, output_dim=32):
> 35:     super(CustomLayer, self).__init__()
  36:     self.weight = self.add_weight(
  37:         shape=(input_dim, output_dim),
```


## File python/core/sparsity/keras/pruning_policy_test.py - Line 36 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  33:   def __init__(self, *args, keepdims=False, **kwargs):
  ...
  34:     self._compat = False
  35:     if version.LooseVersion(tf.__version__) > version.LooseVersion('2.5.0'):
> 36:       super(CompatGlobalAveragePooling2D, self).__init__(
  37:           *args, keepdims=keepdims, **kwargs)
  38:     else:
```


## File python/core/clustering/keras/clustering_callbacks.py - Line 36 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  34: 
  35:   def __init__(self, log_dir='logs', cluster_update_freq='epoch', **kwargs):
> 36:     super(ClusteringSummaries, self).__init__(log_dir=log_dir, **kwargs)
  37: 
  38:     if not isinstance(log_dir, str) or not log_dir:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry_test.py - Line 37 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  35: 
  36:   def setUp(self):
> 37:     super(ClusterPreserveQuantizeRegistryTest, self).setUp()
  38:     # Test CQAT by default
  39:     self.cluster_preserve_quantize_registry = (
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test.py - Line 37 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  35: 
  36:   def setUp(self):
> 37:     super(ClusterPreserveIntegrationTest, self).setUp()
  38:     self.cluster_params = {
  39:         'number_of_clusters': 4,
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_integration_test_yesterday.py - Line 38 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  36: class ClusterPreserveIntegrationTest(tf.test.TestCase, parameterized.TestCase):
  37:   def setUp(self):
> 38:     super(ClusterPreserveIntegrationTest, self).setUp()
  39:     self.cluster_params = {
  40:         "number_of_clusters": 4,
```


## File python/core/sparsity/keras/pruning_policy_test.py - Line 39 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  33:   def __init__(self, *args, keepdims=False, **kwargs):
  ...
  37:           *args, keepdims=keepdims, **kwargs)
  38:     else:
> 39:       super(CompatGlobalAveragePooling2D, self).__init__(*args, **kwargs)
  40:       self._compat = True
  41:       self.keepdims = keepdims
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 40 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  38:   def __init__(self):
  39:     """Subclassed model with one dense layer."""
> 40:     super(SubclassedModel, self).__init__(name='subclass_model')
  41:     self.dense_layer = keras.layers.Dense(5, activation='relu')
  42:
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 41 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  39: 
  40:   def __init__(self, units=10):
> 41:     super(NonClusterableLayer, self).__init__()
  42:     self.add_weight(shape=(1, units), initializer='uniform', name='kernel')
  43:
```


## File python/core/quantization/keras/quantizers_test.py - Line 42 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  40: 
  41:   def setUp(self):
> 42:     super(QuantizersTest, self).setUp()
  43:     self.quant_params = {
  44:         'num_bits': 8,
```


## File python/core/sparsity/keras/prune_test.py - Line 43 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  41:   def __init__(self):
  42:     """A test subclass model with one dense layer."""
> 43:     super(TestSubclassedModel, self).__init__(name='test_model')
  44:     self.layer1 = keras.layers.Dense(10, activation='relu')
  45:
```


## File python/core/quantization/keras/quantize_layer.py - Line 44 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  37:   def __init__(self, quantizer, **kwargs):
  ...
  42:       **kwargs: Additional keyword arguments to be passed to the keras layer.
  43:     """
> 44:     super(QuantizeLayer, self).__init__(**kwargs)
  45: 
  46:     if quantizer is None or not isinstance(quantizer, quantizers.Quantizer):
```


## File python/core/sparsity/keras/prune_distributed_test.py - Line 44 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  42: 
  43:   def setUp(self):
> 44:     super(PruneDistributedTest, self).setUp()
  45:     self.params = {
  46:         'pruning_schedule': pruning_schedule.ConstantSparsity(0.5, 0, -1, 1),
```


## File python/core/quantization/keras/quantize_aware_activation_test.py - Line 44 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  42: 
  43:   def setUp(self):
> 44:     super(QuantizeAwareQuantizationTest, self).setUp()
  45:     self.quantizer = MovingAverageQuantizer(
  46:         num_bits=8, per_axis=False, symmetric=True, narrow_range=False)
```


## File python/core/sparsity/keras/pruning_policy_test.py - Line 45 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  43:   def call(self, inputs):
  44:     if not self._compat:
> 45:       return super(CompatGlobalAveragePooling2D, self).call(inputs)
  46: 
  47:     if self.data_format == 'channels_last':
```


## File python/core/quantization/keras/quantize_wrapper_test.py - Line 45 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  43: 
  44:   def setUp(self):
> 45:     super(QuantizeWrapperTest, self).setUp()
  46:     self.quantize_registry = QuantizeRegistry()
  47:
```


## File python/core/clustering/keras/cluster_test.py - Line 45 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  43:   def __init__(self):
  44:     """A test subclass model with one dense layer."""
> 45:     super(SubclassedModel, self).__init__(name='test_model')
  46:     self.layer1 = keras.layers.Dense(10, activation='relu')
  47:
```


## File python/core/sparsity/keras/pruning_callbacks.py - Line 48 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  46: 
  47:   def __init__(self):
> 48:     super(UpdatePruningStep, self).__init__()
  49:     self.prunable_layers = []
  50:
```


## File python/core/sparsity/keras/pruning_impl_test.py - Line 50 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  48: 
  49:   def setUp(self):
> 50:     super(PruningTest, self).setUp()
  51:     self.block_size = (1, 1)
  52:     self.block_pooling_type = "AVG"
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 51 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  49:   def __init__(self):
  50:     """Subclassed model with two layers."""
> 51:     super(SubclassedModelTwoLayers, self).__init__(name='subclass_model')
  52:     self.dense_layer1 = keras.layers.Dense(5, activation='relu')
  53:     self.dense_layer2 = keras.layers.Dense(5, activation='softmax')
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantizers.py - Line 52 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  49:   def __init__(self):
  ...
  50:     """Construct LastValueQuantizer with params specific for TFLite Conv2DTranpose."""
  51: 
> 52:     super(Default8BitConvTransposeWeightsQuantizer, self).__init__(
  53:         num_bits=8, per_axis=False, symmetric=True, narrow_range=True)
  54:
```


## File python/core/clustering/keras/cluster_distributed_test.py - Line 54 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  52: 
  53:   def setUp(self):
> 54:         super(ClusterDistributedTest, self).setUp()
  55: 
  56:   @parameterized.parameters(
```


## File python/core/quantization/keras/quantize_annotate.py - Line 55 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  47:   def __init__(self, layer, quantize_config=None, **kwargs):
  ...
  53:       **kwargs: Additional keyword arguments to be passed to the keras layer.
  54:     """
> 55:     super(QuantizeAnnotate, self).__init__(layer, **kwargs)
  56: 
  57:     if layer is None:
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantizers.py - Line 57 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  55:   def __call__(self, inputs, training, weights, **kwargs):
  56:     outputs = tf.transpose(inputs, (0, 1, 3, 2))
> 57:     outputs = super(Default8BitConvTransposeWeightsQuantizer,
  58:                     self).__call__(outputs, training, weights, **kwargs)
  59:     outputs = tf.transpose(outputs, (0, 1, 3, 2))
```


## File python/core/clustering/keras/cluster_wrapper_test.py - Line 59 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  57:   def __init__(self):
  58:     """A test subclass model with one dense layer."""
> 59:     super(SubclassedModel, self).__init__(name='test_model')
  60:     self.dense_layer = keras.layers.Dense(32, activation='relu')
  61:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_distributed_test.py - Line 62 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  60: 
  61:   def setUp(self):
> 62:     super(ClusterPreserveDistributedTest, self).setUp()
  63: 
  64:   @staticmethod
```


## File python/core/clustering/keras/cluster_integration_test.py - Line 63 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  61: 
  62:   def setUp(self):
> 63:     super(ClusterIntegrationTest, self).setUp()
  64:     self.params = {
  65:         "number_of_clusters": 8,
```


## File python/core/clustering/keras/cluster_test.py - Line 65 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  63: 
  64:   def __init__(self, units=32):
> 65:     super(KerasCustomLayer, self).__init__()
  66:     self.units = units
  67:
```


## File python/core/clustering/keras/mnist_clusterable_layer_test.py - Line 68 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  66: 
  67:   def __init__(self, units=32, **kwargs):
> 68:     super(MyClusterableLayer, self).__init__(**kwargs)
  69:     self.units = units
  70:
```


## File python/core/quantization/keras/quantize_wrapper.py - Line 70 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  44:   def __init__(self, layer, quantize_config, **kwargs):
  ...
  68:       kwargs['name'] = self._make_layer_name(layer)
  69: 
> 70:     super(QuantizeWrapper, self).__init__(layer, **kwargs)
  71:     self.quantize_config = quantize_config
  72:
```


## File python/core/sparsity/keras/prune_test.py - Line 70 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  68: 
  69:   def setUp(self):
> 70:     super(PruneTest, self).setUp()
  71: 
  72:     # Layers passed in for Pruning can either be standard Keras layers provided
```


## File python/core/sparsity/keras/pruning_policy_test.py - Line 71 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  69: 
  70:   def setUp(self):
> 71:     super(PruningPolicyTest, self).setUp()
  72: 
  73:     self.params = {
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 73 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  56:   def __init__(self,
  ...
  71:     if isinstance(layer, clusterable_layer.ClusterableLayer):
  72:       # A user-defined custom layer
> 73:       super(ClusterWeights, self).__init__(layer, **kwargs)
  74:     elif clustering_registry.ClusteringRegistry.supports(layer):
  75:       super(ClusterWeights, self).__init__(
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 75 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  56:   def __init__(self,
  ...
  73:       super(ClusterWeights, self).__init__(layer, **kwargs)
  74:     elif clustering_registry.ClusteringRegistry.supports(layer):
> 75:       super(ClusterWeights, self).__init__(
  76:           clustering_registry.ClusteringRegistry.make_clusterable(layer),
  77:           **kwargs)
```


## File python/core/internal/tensor_encoding/core/core_encoder.py - Line 75 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  58:   def __init__(self, stage, children):
  ...
  73:     self.children = children
  74:     self._commuting_structure = None
> 75:     super(Encoder, self).__init__()
  76: 
  77:   @property
```


## File python/core/quantization/keras/quantize_layer.py - Line 78 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  76: 
  77:   def get_config(self):
> 78:     base_config = super(QuantizeLayer, self).get_config()
  79:     config = {
  80:         'quantizer': serialize_keras_object(self.quantizer)
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry_test.py - Line 81 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  79: 
  80:   def setUp(self):
> 81:     super(QuantizeRegistryTest, self).setUp()
  82:     self.quantize_registry = default_8bit_quantize_registry.\
  83:         Default8BitQuantizeRegistry()
```


## File python/core/clustering/keras/mnist_clusterable_layer_test.py - Line 88 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  86: 
  87:   def get_config(self):
> 88:     config = super(MyClusterableLayer, self).get_config()
  89:     config.update({'units': self.units})
  90:     return config
```


## File python/core/sparsity/keras/pruning_callbacks.py - Line 91 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  85:   def __init__(self, log_dir, update_freq='epoch', **kwargs):
  ...
  89:           '{input}.'.format(input=log_dir))
  90: 
> 91:     super(PruningSummaries, self).__init__(
  92:         log_dir=log_dir, update_freq=update_freq, **kwargs)
  93:     if not compat.is_v1_apis():  # TF 2.X
```


## File python/core/quantization/keras/quantize_wrapper.py - Line 94 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  92: 
  93:   def build(self, input_shape):
> 94:     super(QuantizeWrapper, self).build(input_shape)
  95: 
  96:     self.optimizer_step = self.add_weight(
```


## File python/core/quantization/keras/quantize_annotate.py - Line 102 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  100: 
  101:   def get_config(self):
> 102:     base_config = super(QuantizeAnnotate, self).get_config()
  103:     config = {'quantize_config': serialize_keras_object(self.quantize_config)}
  104:     return dict(list(base_config.items()) + list(config.items()))
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry_test.py - Line 107 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  105: class PrunePreserveDefault8bitQuantizeRegistryTest(tf.test.TestCase):
  106:   def setUp(self):
> 107:     super(PrunePreserveDefault8bitQuantizeRegistryTest, self).setUp()
  108:     self.default_8bit_quantize_registry = default_8bit_quantize_registry.Default8BitQuantizeRegistry(
  109:     )
```


## File python/core/sparsity/keras/pruning_callbacks.py - Line 111 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  109:   def on_epoch_begin(self, epoch, logs=None):
  110:     if logs is not None:
> 111:       super(PruningSummaries, self).on_epoch_begin(epoch, logs)
  112: 
  113:     pruning_logs = {}
```


## File python/core/sparsity/keras/prune_integration_test.py - Line 111 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  109: 
  110:   def setUp(self):
> 111:     super(PruneIntegrationTest, self).setUp()
  112:     self.params = {
  113:         'pruning_schedule': pruning_schedule.ConstantSparsity(0.5, 0, -1, 1),
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry_test.py - Line 117 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  114:       def __init__(self, units, **kwargs):
  ...
  115:         self.units = units
  116:         self.state_size = units
> 117:         super(MinimalRNNCell, self).__init__(**kwargs)
  118: 
  119:     self.assertFalse(
```


## File python/core/clustering/keras/cluster_test.py - Line 122 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  120: 
  121:   def setUp(self):
> 122:     super(ClusterTest, self).setUp()
  123: 
  124:     self.keras_clusterable_layer = layers.Dense(10)
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry_test.py - Line 123 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  121: class ClusterPreserveDefault8bitQuantizeRegistryTest(tf.test.TestCase):
  122:   def setUp(self):
> 123:     super(ClusterPreserveDefault8bitQuantizeRegistryTest, self).setUp()
  124:     self.default_8bit_quantize_registry = (
  125:         default_8bit_quantize_registry.Default8BitQuantizeRegistry())
```


## File python/core/clustering/keras/mnist_clustering_test.py - Line 124 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  122: 
  123:   def setUp(self):
> 124:     super(FunctionalTest, self).setUp()
  125:     model = _build_model()
  126:     _train_model(model)
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 153 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  151: 
  152:   def build(self, input_shape):
> 153:     super(ClusterWeights, self).build(input_shape)
  154:     self.build_input_shape = input_shape
  155:
```


## File python/core/sparsity/keras/pruning_wrapper.py - Line 156 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  100:   def __init__(self,
  ...
  154:         layer, 'get_prunable_weights'):
  155:       # Custom layer in client code which supports pruning.
> 156:       super(PruneLowMagnitude, self).__init__(layer, **kwargs)
  157:     elif prune_registry.PruneRegistry.supports(layer):
  158:       # Built-in keras layers which support pruning.
```


## File python/core/sparsity/keras/pruning_wrapper.py - Line 159 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  100:   def __init__(self,
  ...
  157:     elif prune_registry.PruneRegistry.supports(layer):
  158:       # Built-in keras layers which support pruning.
> 159:       super(PruneLowMagnitude, self).__init__(
  160:           prune_registry.PruneRegistry.make_prunable(layer), **kwargs)
  161:     else:
```


## File python/core/quantization/keras/quantize_wrapper.py - Line 187 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  185: 
  186:   def get_config(self):
> 187:     base_config = super(QuantizeWrapper, self).get_config()
  188:     config = {'quantize_config': serialize_keras_object(self.quantize_config)}
  189:     return dict(list(base_config.items()) + list(config.items()))
```


## File python/core/clustering/keras/clustering_registry_test.py - Line 192 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  190: 
  191:   def __init__(self, units=10):
> 192:     super(CustomLayer, self).__init__()
  193:     self.add_weight(shape=(1, units), initializer='uniform', name='kernel')
  194:
```


## File python/core/sparsity/keras/pruning_wrapper.py - Line 199 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  197: 
  198:   def build(self, input_shape):
> 199:     super(PruneLowMagnitude, self).build(input_shape)
  200: 
  201:     weight_vars, mask_vars, threshold_vars = [], [], []
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 207 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  165:   def __init__(
  ...
  205:       is_quantized=True,
  206:       **kwargs):
> 207:     super(_ConvBatchNorm2D, self).__init__(
  208:         filters,
  209:         kernel_size,
```


## File python/core/clustering/keras/clustering_registry_test.py - Line 208 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  206: 
  207:   def __init__(self, units=10):
> 208:     super(KerasCustomLayerClusterableInvalid, self).__init__()
  209:     self.units = units
  210:
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 225 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  223: 
  224:   def __init__(self, preserve_sparsity):
> 225:     super(Default8bitClusterPreserveQuantizeRegistry, self).__init__(
  226:         preserve_sparsity)
  227:     self.preserve_sparsity = preserve_sparsity
```


## File python/core/quantization/keras/default_8bit/default_8bit_transforms.py - Line 231 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  227:   def pattern(self):
  ...
  229:         # TODO(pulkitb): Enhance match to only occur for relu, relu1 and relu6
  230:         'ReLU',
> 231:         inputs=[super(Conv2DBatchNormReLUQuantize, self).pattern()])
  232: 
  233:   def _replace(self, relu_layer_node, bn_layer_node, conv_layer_node):
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 240 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  229:   def get_quantize_config(self, layer):
  ...
  238:                        Default8BitQuantizeRegistry().
  239:                        get_quantize_config(layer))
> 240:     cluster_aware_quantize_config = super(
  241:         Default8bitClusterPreserveQuantizeRegistry,
  242:         self).apply_cluster_preserve_quantize_config(layer, quantize_config)
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 261 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  259:   def build(self, input_shape):
  260:     # responsible for trainable self.kernel weights
> 261:     super(_ConvBatchNorm2D, self).build(input_shape)
  262: 
  263:     # resposible for trainable gamma and beta weights
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 266 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  250:   def __init__(
  ...
  264:         aware training.
  265:     """
> 266:     super(ClusterPreserveDefaultWeightsQuantizer, self).__init__(
  267:         num_bits=num_bits,
  268:         per_axis=per_axis,
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 272 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  268:   def call(self, inputs, training=None):
  ...
  270:       training = tf.keras.backend.learning_phase()
  271: 
> 272:     conv_out = super(_ConvBatchNorm2D, self).call(inputs)
  273: 
  274:     # Not all the computations in the batchnorm need to happen,
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry.py - Line 276 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  261:   def build(self, tensor_shape, name, layer):
  ...
  274:     result = self._build_sparsity_mask(name, layer)
  275:     result.update(
> 276:         super(PrunePreserveDefaultWeightsQuantizer,
  277:               self).build(tensor_shape, name, layer))
  278:     return result
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 279 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  277: 
  278:   def get_config(self):
> 279:     base_config = super(ClusterWeights, self).get_config()
  280:     config = {
  281:         'number_of_clusters': self.number_of_clusters,
```


## File python/core/sparsity/keras/pruning_wrapper.py - Line 308 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  306: 
  307:   def get_config(self):
> 308:     base_config = super(PruneLowMagnitude, self).get_config()
  309:     config = {
  310:         'pruning_schedule': self.pruning_schedule.get_config(),
```


## File python/core/quantization/keras/collaborative_optimizations/prune_preserve/prune_preserve_quantize_registry.py - Line 314 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  312: 
  313:   def __init__(self):
> 314:     super(PrunePreserveDefault8BitWeightsQuantizer,
  315:           self).__init__(num_bits=8,
  316:                          per_axis=False,
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 338 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  336: 
  337:   def get_config(self):
> 338:     conv_config = super(_ConvBatchNorm2D, self).get_config()
  339:     return self._get_config(conv_config)
  340:
```


## File python/core/clustering/keras/cluster_wrapper.py - Line 346 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  344:   """
  345:   def __init__(self, model):
> 346:     super(WrapperSubclassedModel, self).__init__()
  347: 
  348:     # This wrapper is needed only for subclassed models.
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry_test.py - Line 359 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  357: 
  358:   def setUp(self):
> 359:     super(Default8BitQuantizeConfigRNNTest, self).setUp()
  360: 
  361:     self.cell1 = l.LSTMCell(3)
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 375 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  355:   def build(self, tensor_shape, name, layer):
  ...
  373:     # this will be PCQAT
  374:     result.update(
> 375:         super(ClusterPreserveDefaultWeightsQuantizer,
  376:               self).build(tensor_shape, name, layer))
  377:
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 394 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  353:   def __init__(
  ...
  392:       is_quantized=True,
  393:       **kwargs):
> 394:     super(_DepthwiseConvBatchNorm2D, self).__init__(
  395:         kernel_size,
  396:         strides=strides,
```


## File python/core/quantization/keras/collaborative_optimizations/cluster_preserve/cluster_preserve_quantize_registry.py - Line 439 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  437: 
  438:   def __init__(self, preserve_sparsity):
> 439:     super(ClusterPreserveDefault8BitWeightsQuantizer,
  440:           self).__init__(num_bits=8,
  441:                          per_axis=False,
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 445 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  443:   def build(self, input_shape):
  444:     # responsible for trainable self.kernel weights
> 445:     super(_DepthwiseConvBatchNorm2D, self).build(input_shape)
  446: 
  447:     # resposible for trainable gamma and beta weights
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 456 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  452:   def call(self, inputs, training=None):
  ...
  454:       training = tf.keras.backend.learning_phase()
  455: 
> 456:     conv_out = super(_DepthwiseConvBatchNorm2D, self).call(inputs)
  457: 
  458:     self.batchnorm.call(conv_out)
```


## File python/core/internal/tensor_encoding/core/core_encoder.py - Line 490 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  477:   def __init__(self, stage):
  ...
  488:     self._stage = stage
  489:     self._children = {}
> 490:     super(EncoderComposer, self).__init__()
  491: 
  492:   def add_child(self, stage, key):
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry.py - Line 508 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  506: 
  507:   def __init__(self, weight_attrs, activation_attrs, quantize_output):
> 508:     super(Default8BitConvQuantizeConfig,
  509:           self).__init__(weight_attrs, activation_attrs, quantize_output)
  510:
```


## File python/core/quantization/keras/layers/conv_batchnorm.py - Line 508 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  506: 
  507:   def get_config(self):
> 508:     conv_config = super(_DepthwiseConvBatchNorm2D, self).get_config()
  509:     return self._get_config(conv_config)
  510:
```


## File python/core/quantization/keras/default_8bit/default_8bit_quantize_registry.py - Line 519 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  517: 
  518:   def __init__(self, weight_attrs, activation_attrs, quantize_output):
> 519:     super(Default8BitConvTransposeQuantizeConfig,
  520:           self).__init__(weight_attrs, activation_attrs, quantize_output)
  521:
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 542 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  540:     @_tf_style_get_params
  541:     def get_params(self, name=None):
> 542:       return super(TFStyleEncodingStage, self).get_params()
  543: 
  544:     @_tf_style_encode
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 546 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  544:     @_tf_style_encode
  545:     def encode(self, x, encode_params, name=None):
> 546:       return super(TFStyleEncodingStage, self).encode(x, encode_params)
  547: 
  548:     @_tf_style_decode
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 555 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  549:     def decode(self,
  ...
  553:                shape=None,
  554:                name=None):
> 555:       return super(TFStyleEncodingStage,
  556:                    self).decode(encoded_tensors, decode_params, num_summands,
  557:                                 shape)
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 600 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  598:     @_tf_style_initial_state
  599:     def initial_state(self, name=None):
> 600:       return super(TFStyleAdaptiveEncodingStage, self).initial_state()
  601: 
  602:     @_tf_style_update_state
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 604 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  602:     @_tf_style_update_state
  603:     def update_state(self, state, state_update_tensors, name=None):
> 604:       return super(TFStyleAdaptiveEncodingStage, self).update_state(
  605:           state, state_update_tensors)
  606:
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 609 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  607:     @_tf_style_adaptive_get_params
  608:     def get_params(self, state, name=None):
> 609:       return super(TFStyleAdaptiveEncodingStage, self).get_params(state)
  610: 
  611:     @_tf_style_encode
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 613 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  611:     @_tf_style_encode
  612:     def encode(self, x, encode_params, name=None):
> 613:       return super(TFStyleAdaptiveEncodingStage, self).encode(x, encode_params)
  614: 
  615:     @_tf_style_decode
```


## File python/core/internal/tensor_encoding/core/encoding_stage.py - Line 622 - R1725 (super-with-arguments)

- `message: Consider using Python 3 style super() without arguments`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  616:     def decode(self,
  ...
  620:                shape=None,
  621:                name=None):
> 622:       return super(TFStyleAdaptiveEncodingStage,
  623:                    self).decode(encoded_tensors, decode_params, num_summands,
  624:                                 shape)
```


# R1732: consider-using-with

## File python/examples/quantization/keras/mnist_cnn.py - Line 108 - R1732 (consider-using-with)

- `message: Consider using 'with' for resource-allocating operations`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  106: converter.quantized_input_stats = {input_arrays[0]: (0., 255.)}  # mean, std_dev
  107: tflite_model = converter.convert()
> 108: open('/tmp/quantized_mnist.tflite', 'wb').write(tflite_model)
```


## File python/examples/quantization/keras/mnist_cnn_cont_quant.py - Line 146 - R1732 (consider-using-with)

- `message: Consider using 'with' for resource-allocating operations`
- `author : Ruomei Yan <ruomei.yan@arm.com>`
- `date   : 2021-07-20T11:09:14`

```
  144: print('Write TFLite model.')
  145: tflite_file = '/tmp/quantized_mnist.tflite'
> 146: open(tflite_file, 'wb').write(tflite_model)
  147: 
  148: # Evaluate the fully quantized model.
```


